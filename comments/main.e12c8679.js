(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,n){"use strict";n.d(t,"l",function(){return a});var r=n(6);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n.d(t,"c",function(){return r.f}),n.d(t,"d",function(){return r.q}),n.d(t,"f",function(){return r.u}),n.d(t,"g",function(){return r.y}),n.d(t,"i",function(){return r.D}),n.d(t,"j",function(){return r.F}),n.d(t,"k",function(){return r.M});var o=n(147),i=n.n(o);n.d(t,"e",function(){return i.a});var a=null;t.h={Children:r.a,Component:r.b,EMPTY_OBJ:r.c,Fragment:r.d,PropTypes:r.e,PureComponent:r.f,_CI:r.g,_HI:r.h,_M:r.i,_MCCC:r.j,_ME:r.k,_MFCC:r.l,_MP:r.m,_MR:r.n,_MT:r.o,__render:r.p,cloneElement:r.q,cloneVNode:r.r,createClass:r.s,createComponentVNode:r.t,createElement:r.u,createFactory:r.v,createFragment:r.w,createPortal:r.x,createRef:r.y,createRenderer:r.z,createTextVNode:r.A,createVNode:r.B,directClone:r.C,findDOMNode:r.D,findDOMfromVNode:r.E,forwardRef:r.F,getFlagsForElementVnode:r.G,hydrate:r.H,isValidElement:r.I,linkEvent:r.J,normalizeProps:r.K,options:r.L,render:r.M,rerender:r.N,unmountComponentAtNode:r.O,unstable_renderSubtreeIntoContainer:r.P,version:r.Q,createContext:i.a,unstable_batchedUpdates:a}},10:function(e,t,n){"use strict";var r=new URLSearchParams(window.location.search);t.a=r},12:function(e,t,n){"use strict";var r=n(139);n.d(t,"a",function(){return r.a});var o=n(32);n.d(t,"b",function(){return o.a})},139:function(e,t,n){"use strict";(function(e){var r=n(8),o=n.n(r),i=n(9),a=n(1),c=n(18),u=n(20),s=n(10),l=n(4),f=n(32);function p(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,c,"next",e)}function c(e){p(i,r,o,a,c,"throw",e)}a(void 0)})}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var b=function(){function t(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.inProgress=!1,this.error=null,this.facebookEnabled="false"!==s.a.get("fAuth"),this.googleEnabled="false"!==s.a.get("gAuth"),this.twitterEnabled="false"!==s.a.get("tAuth"),this.disqusEnabled="false"!==s.a.get("dAuth"),this.withVuukle="false"!==s.a.get("vuukleAuth"),this.withPassword="true"===s.a.get("passwordAuth"),this.signOut=f.a.forgetUser,this.signIn=function(){var e=m(o.a.mark(function e(t,r){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.inProgress=!0,n.error=null,e.prev=2,n.isCookiesAllowed){e.next=6;break}return e.next=6,n.openCORSModal();case 6:return e.next=8,c.a.withPassword(t,r);case 8:if((i=e.sent).isPasswordEntered&&!Array.isArray(i.errors)){e.next=11;break}throw new Error(l.a.messages.incorrectDetails);case 11:return f.a.token=i.token,e.next=14,f.a.authorizeWithToken();case 14:return e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(2),n.error=e.t0.message,e.abrupt("return",!1);case 21:return e.prev=21,n.inProgress=!1,e.finish(21);case 24:case"end":return e.stop()}},e,null,[[2,17,21,24]])}));return function(t,n){return e.apply(this,arguments)}}(),this.signInWithoutPassword=function(){var e=m(o.a.mark(function e(t,r){var i,a,u=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=u.length>2&&void 0!==u[2]?u[2]:"",n.inProgress=!0,n.error=null,t=t.trim(),r=r.trim(),e.prev=5,n.isCookiesAllowed){e.next=9;break}return e.next=9,n.openCORSModal();case 9:return e.next=11,n.validateFields(t,r);case 11:return e.next=13,c.a.withoutPassword(t,r,i);case 13:return a=e.sent,f.a.token=a.data.authTicket.token,e.next=17,f.a.authorizeWithToken();case 17:return e.abrupt("return",!0);case 20:return e.prev=20,e.t0=e.catch(5),n.error=e.t0.message,e.abrupt("return",!1);case 24:return e.prev=24,n.inProgress=!1,e.finish(24);case 27:case"end":return e.stop()}},e,null,[[5,20,24,27]])}));return function(t,n){return e.apply(this,arguments)}}(),this.signUp=function(){var e=m(o.a.mark(function e(t,r,i){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.inProgress=!0,n.error=null,t=t.trim(),r=r.trim(),e.prev=4,n.isCookiesAllowed){e.next=8;break}return e.next=8,n.openCORSModal();case 8:return e.next=10,n.validateFields(t,r);case 10:return e.next=12,c.a.register(t,r,i);case 12:if(!(a=e.sent).success){e.next=18;break}return f.a.token=a.data.authTicket.token,e.abrupt("return",f.a.authorizeWithToken());case 18:throw new Error(a.errors[0]||"Please try again later");case 19:e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(4),n.error=e.t0.message,e.abrupt("return",!1);case 25:return e.prev=25,n.inProgress=!1,e.finish(25);case 28:case"end":return e.stop()}},e,null,[[4,21,25,28]])}));return function(t,n,r){return e.apply(this,arguments)}}(),this.openCORSModal=m(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.open("".concat(window.location.origin).concat("/widgets/authentication-progress.html"),"authVerificationModal","location=0,status=0,width=800,height=400"),e.abrupt("return",new Promise(function(e,n){var r=window.setInterval(function(){t&&t.closed&&(window.clearInterval(r),e())},1e3)}));case 2:case"end":return e.stop()}},e)})),this.signInWithSocial=function(t){Object(u.h)("login_".concat(t));var n={callback:function(){return f.a.authorizeWithToken()},path:""};switch(t){case"google":n.path=e.env.GOOGLE_LOGIN_LINK||"";break;case"twitter":n.path=e.env.TWITTER_LOGIN_LINK||"";break;case"disqus":n.path=e.env.DISQUS_LOGIN_LINK||"";break;default:n.path=e.env.FACEBOOK_LOGIN_LINK||""}var r=window.open(n.path,"socialAuth","location=0,status=0,width=800,height=400"),o=window.setInterval(function(){r&&r.closed&&(window.clearInterval(o),n.callback())},1e3)},this.openSSO=function(){return Object(u.a)()},this.closeAlert=function(){n.error=null},this.validateFields=function(e,t){return new Promise(function(n,r){Object(i.h)(e)&&!Object(i.f)(e)||r(new Error(l.a.common.invalidName)),Object(i.g)(t)||r(new Error(l.a.common.invalidEmail)),n()})},window.signInUser=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"string"==typeof e&&"string"==typeof t&&e.length>2&&t.length>3&&!f.a.isAuthorized&&n.signInWithoutPassword(e,t,r)}}return h(t,[{key:"withSSO",get:function(){return!(this.facebookEnabled||this.googleEnabled||this.twitterEnabled||this.disqusEnabled||this.withVuukle)}}]),h(t,[{key:"isCookiesAllowed",get:function(){document.cookie="vuukle_cookie_test=true";var e=-1!==document.cookie.indexOf("vuukle_cookie_test");return document.cookie="vuukle_cookie_test=true; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}}]),t}();Object(a.h)(b,{error:a.m,inProgress:a.m,withSSO:a.e,closeAlert:a.d,signIn:a.d,signInWithoutPassword:a.d,signOut:a.d,signUp:a.d}),t.a=new b}).call(this,n(75))},149:function(e,t,n){"use strict";(function(e){t.a=function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TOXICITY";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=void 0,this.xhr=new XMLHttpRequest,this.send=function(t){n.cancel();var r=n.xhr,o={comment:{text:t},languages:["en"],requestedAttributes:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n.model,{})};return new Promise(function(i,a){t||a("empty comment"),r.open("POST","https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=".concat(e.env.PERSEPECTIVE_API_KEY),!0),r.setRequestHeader("Content-type","application/json"),r.onload=function(){try{var e=JSON.parse(r.response);e.error&&a(e.error.message),i({value:Math.round(100*e.attributeScores[n.model].summaryScore.value)})}catch(e){a(e)}},r.onerror=function(){return a(r.statusText)},r.onabort=function(){return a("request cancelled")},r.send(JSON.stringify(o))})},this.cancel=function(){return n.xhr.abort()},this.model=r}}).call(this,n(75))},153:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r=function(){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET","https://api.giphy.com/v1/gifs/trending?limit=10&rating=g&api_key=".concat(e.env.GIPHY_TOKEN)),r.send(),r.onload=function(){r.status>=200&&r.status<300?t(JSON.parse(r.response)):n(new Error(r.statusText))},r.onerror=function(){return n(new Error(r.statusText))},r.onabort=function(){return n(new Error("cancelled"))}})},o=function(t){return new Promise(function(n,r){var o=new XMLHttpRequest;o.open("GET","https://api.giphy.com/v1/gifs/search?limit=10&rating=g&q=".concat(t,"&api_key=").concat(e.env.GIPHY_TOKEN)),o.send(),o.onload=function(){o.status>=200&&o.status<300?n(JSON.parse(o.response)):r(new Error(o.statusText))},o.onerror=function(){return r(new Error(o.statusText))},o.onabort=function(){return r(new Error("cancelled"))}})}}).call(this,n(75))},18:function(e,t,n){"use strict";var r=n(9),o=n(12),i=n(26),a=n(78),c=n(7),u=n(50);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.method=t,this.url=n,this.requireAuth=o,this.contentType=i,this.baseParams=a,this.xhr=new XMLHttpRequest,this.send=function(e){return new Promise(function(t,n){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}({},r.baseParams,e),i="GET"===r.method?"".concat(r.url,"?").concat(function(e){return e instanceof Object?Object.keys(e).filter(function(t){return void 0!==e[t]&&null!==e[t]}).map(function(t){return t+"="+e[t]}).join("&"):""}(o)):r.url;r.xhr.open(r.method,i,!0),r.contentType&&r.xhr.setRequestHeader("Content-type","application/json"),r.xhr.onload=function(){return t(JSON.parse(r.xhr.response))},r.xhr.onerror=function(){return n(new Error(r.xhr.statusText))},r.xhr.onabort=function(){return n(new Error("cancelled"))},"GET"===r.method?r.xhr.send():r.xhr.send(JSON.stringify(o))})},this.cancel=function(){return r.xhr.abort()}},f=n(149);n.d(t,"d",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"e",function(){return d}),n.d(t,"c",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"f",function(){return g});var p={get:new l("GET","".concat("https://api.vuukle.com","/api/v1/Comments/getCommentFeedBySort"),!1,void 0,{apiKey:c.a.apiKey,articleId:c.a.article.id,host:c.a.article.host,pageSize:5,sortBy:"get_latest",start:0}),getByID:function(e){return Object(r.l)("GET","".concat("https://api.vuukle.com","/api/v1/Comments/loadFullComment"),{commentId:e})},initialLoading:function(){return Object(r.l)("GET","".concat("https://api.vuukle.com","/api/v1/Comments/loadVuukle"),{apiKey:c.a.apiKey,articleId:c.a.article.id,globalRecommendation:a.a.global,host:c.a.article.host,pageSize:i.b.toLoad,start:0,uri:c.a.article.url},"application/json",o.b.token)},post:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"en";return Object(r.l)("POST","".concat("https://api.vuukle.com","/api/v1/Comments/post"),{comment:{commentText:e,parentId:i,parentTimestamp:a,spamValue:Math.round(n),toxicity:Math.round(t),apiKey:c.a.apiKey,articleAvatar:c.a.article.img,articleId:c.a.article.id,host:c.a.article.host,lang:s,tag:c.a.article.tags,title:c.a.article.title,uri:c.a.article.url},r:Object(u.b)(e),s:Object(u.b)(e+c.a.apiKey)},void 0,o.b.token).then(function(e){if(!e.success)throw new Error(Array.isArray(e.errors)&&e.errors[0]||"unknown");return e})},edit:function(e,t){return Object(r.l)("POST","".concat("https://api.vuukle.com","/api/v1/Comments/editComment"),{commentId:e,commentText:t,apiKey:c.a.apiKey,host:c.a.article.host,r:Object(u.b)(t),s:Object(u.b)(t+c.a.apiKey)},void 0,o.b.token).then(function(e){if(!e.success)throw new Error(Array.isArray(e.errors)&&e.errors[0]||"unknown");return e})},changeStatus:function(e){return Object(r.l)("POST","".concat("https://api.vuukle.com","/api/v1/Comments/setCommentStatus"),{commentIDs:[e],state:1},"application/json",o.b.token)}},m={me:function(){return Object(r.l)("POST","".concat("https://api.vuukle.com","/api/v1/Auth/me"),{},"application/json",void 0,!0)},register:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(r.l)("POST","".concat("https://api.vuukle.com","/api/v1/Auth/signupUser"),{ageRange:o,email:t,name:e,password:n,pictureUrl:null},"application/json",void 0,!0)},withPassword:function(e,t){return Object(r.l)("POST","".concat("https://api.vuukle.com","/api/v1/Auth"),{email:e,password:t},"application/json",void 0,!0)},withoutPassword:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(r.l)("POST","".concat("https://api.vuukle.com","/api/v1/Auth/sso"),{email:t,name:e,avatar:n},"application/json",void 0,!0)}},d={spamModel:new f.a("SPAM"),toxicModel:new f.a("TOXICITY")},h={delete:function(e){return Object(r.l)("DELETE","".concat("https://api.vuukle.com","/api/v1/comment_likes"),{apiKey:c.a.apiKey,articleAvatar:c.a.article.img,articleId:c.a.article.id,commentId:e,host:c.a.article.host,tag:c.a.article.tags,title:c.a.article.title,uri:c.a.article.url},"application/json",o.b.token,!0)},post:function(e){return Object(r.l)("POST","".concat("https://api.vuukle.com","/api/v1/comment_likes"),{apiKey:c.a.apiKey,articleAvatar:c.a.article.img,articleId:c.a.article.id,commentId:e,host:c.a.article.host,tag:c.a.article.tags,title:c.a.article.title,uri:c.a.article.url},"application/json",o.b.token,!0)}},b={post:function(e){return Object(r.l)("POST","".concat("https://api.vuukle.com","/api/v1/comment_flags/setCommentFlag"),{apiKey:c.a.apiKey,articleId:c.a.article.id,commentId:e,host:c.a.article.host},"application/json",o.b.token)}},g={delete:function(){return Object(r.l)("DELETE","".concat("https://api.vuukle.com","/api/v1/recommend_ratings/ratings"),{apiKey:c.a.apiKey,articleAvatar:c.a.article.img,articleId:c.a.article.id,host:c.a.article.host,tag:c.a.article.tags,title:c.a.article.title,uri:c.a.article.url},"application/json",o.b.token,!0)},post:function(){return Object(r.l)("POST","".concat("https://api.vuukle.com","/api/v1/recommend_ratings/ratings"),{apiKey:c.a.apiKey,articleAvatar:c.a.article.img,articleId:c.a.article.id,host:c.a.article.host,tag:c.a.article.tags,title:c.a.article.title,uri:c.a.article.url},"application/json",o.b.token,!0)}}},20:function(e,t,n){"use strict";var r;r=new Porthole.WindowProxy(window.location.href);var o=n(9),i=n(51),a=n.n(i),c=n(12),u=n(26),s=n(7);function l(){r.addEventListener(function(e){e.data instanceof Object&&(Object(o.k)("log","comments porthole event received",e),a()(["data","authenticateUser"],e)instanceof Object?function(e){var t=e.name,n=e.email,r=e.avatar,o=e.token;if(e.signOut)return c.a.signOut();"string"==typeof t&&"string"==typeof n&&t.length>2&&n.length>3&&!c.b.isAuthorized?c.a.signInWithoutPassword(t,n,r):"string"==typeof o&&(c.b.token=o,c.b.authorizeWithToken())}(e.data.authenticateUser):a()(["data","modalData","auth"],e)?c.b.authorizeSilently():a()(["data","syncWidget","votes"],e)?(s.a.recommendCount=e.data.syncWidget.votes,s.a.isRecommended=e.data.syncWidget.voted):a()(["data","loadComment"],e)&&u.b.getCommentDetailsByID(e.data.loadComment))})}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){if(e instanceof Object){var t;try{t=JSON.parse(e.data.shares)}catch(e){t={}}r.post({articleData:{commentCount:e.data.article.commentCount,recommendations:e.data.recommendCount,shares:t}})}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.post({modalData:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({hideModal:!1,type:"login"},e)})},d=function(e){return r.post({modalData:{hideModal:!1,profile:e,type:"profile"}})},h=function(e){return r.post({modalData:{hideModal:!1,link:e,type:"link"}})};function b(e){r.post({syncWidget:{commentAdded:!0},vuukle_event:{comment:e.commentText,email:c.b.details&&c.b.details.email,eventType:"comment",name:e.name}})}function g(e){var t=(new Date).toISOString();r.post({vuukle_event:{comment_ID:e.id,comment_agent:"",comment_approved:1,comment_author:e.name,comment_author_IP:"",comment_author_url:"https://user.vuukle.com/by/".concat(Object(o.o)(e.name),"/").concat(e.userId,"/"),comment_content:e.commentText,comment_date:t,comment_date_gmt:t,comment_karma:"",comment_parent:e.parentId,comment_post_ID:s.a.article.id,comment_type:"",email:c.b.details&&c.b.details.email,eventType:"wpSync",user_id:e.userId}})}var y=function(e){return r.post({reportEvent:{action:e,label:"Comments"}})},v=function(){return r.post({callSSO:!0})},w=function(e,t){return r.post({syncWidget:{voted:e,votes:t}})};n.d(t,"k",function(){return r}),n.d(t,"b",function(){return l}),n.d(t,"i",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return g}),n.d(t,"h",function(){return y}),n.d(t,"a",function(){return v}),n.d(t,"j",function(){return w})},26:function(e,t,n){"use strict";var r,o,i,a,c,u=n(8),s=n.n(u),l=n(9),f=n(1),p=n(18),m=n(10),d=n(200),h=n.n(d),b=n(12),g=n(89),y=n(4),v=n(7),w=n(20),k=n(50);function x(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,c,"next",e)}function c(e){x(i,r,o,a,c,"throw",e)}a(void 0)})}}function S(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var _=(o=C((r=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selfRemove=n,this.loading=!1,this.bottomAlert=new g.a,this.topAlert=new g.a,this.replies=[],this.data=void 0,this.showReplyBox=!1,this.collapsed=!1,this.currentSessionLiked=!1,this.hidden=!1,S(this,"_editMode",o,this),S(this,"toggleEditMode",i,this),this.openAuth=function(){return b.a.withSSO?Object(w.a)():Object(w.f)()},this.getCommentTextForRender=function(){return Object(l.m)(r.data.commentText)},this.getCommentTextOnly=function(){return Object(l.n)(r.data.commentText)},this.toggleLike=function(){if(!b.b.isAuthorized)return r.openAuth();r.data.userId===(b.b.details&&b.b.details.id)?r.bottomAlert.value={message:y.a.messages.ownCommentVote,type:"error",timeout:3500}:r.currentSessionLiked?r.dislike():r.like()},this.share=function(e){var t=function(e){return window.open(e,"shareWindow","status = 1, height = 500, width = 420, resizable = 0, top=200, left=400, screenX=400, screenY=200")},n=encodeURIComponent(v.a.article.url),o=encodeURIComponent(v.a.article.title),i=r.data.commentText.replace(/<(?:.|\n)*?>/gm,"").substring(0,75);switch(e.toLocaleLowerCase()){case"twitter":return void t("https://twitter.com/share?url=".concat(n,"&text=").concat(r.data.name," commented: '").concat(i,"...'"));case"linkedin":return void t("https://www.linkedin.com/shareArticle?mini=true&url=".concat(n,"&title=").concat(o,"&summary=&source="));case"link":var a=new URL(v.a.article.url);return a.hash="#commentID-".concat(r.data.id),void Object(w.e)(a.href);default:return void t("https://www.facebook.com/sharer/sharer.php?u=".concat(n))}},this.report=O(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b.b.isAuthorized){e.next=2;break}return e.abrupt("return",r.openAuth());case 2:if(window.confirm(y.a.messages.flagQuestion)){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,p.b.post(r.data.id);case 8:(t=e.sent).success?r.topAlert.value={message:y.a.messages.flaggedMessage,type:"success",timeout:3500}:"Already flagged"===t.result&&(r.topAlert.value={message:y.a.messages.alreadyReported,type:"warning",timeout:3500}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5);case 15:case"end":return e.stop()}},e,null,[[5,12]])})),this.reject=O(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h()(!1,["details","isPasswordEntered"],b.b)){e.next=4;break}r.topAlert.value={message:'The following alert message is present when user is logged not by password:\n To perform this action authorization requires password.\n Please authenticate into your account using password on\n <a href="https://admin.vuukle.com" target="_blank">admin.vuukle.com</a> and reload this page.',type:"warning"},e.next=14;break;case 4:return e.prev=4,e.next=7,p.d.changeStatus(r.data.id);case 7:e.sent.success&&(r.topAlert.value={message:"[Moderator] Comment has been rejected.",type:"success",timeout:2e3},setTimeout(function(){return r.selfRemove(r)},2e3)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),r.topAlert.value={message:"Comment has not been rejected. Please try again later or contact with support.",timeout:4e3,type:"error"};case 14:case"end":return e.stop()}},e,null,[[4,11]])})),this.editComment=function(e){r.data.commentText=e.commentText,2===e.state&&(r.hidden=!0,r.topAlert.value={type:"warning",message:y.a.messages.moderationMessage,timeout:4e3},Object(f.q)(function(){return!r.topAlert.value},function(){return r.selfRemove(r)})),r.editMode=!1},this.addReply=function(t){r.replies.unshift(new e(t,r.remove))},this.toggleReplyBox=function(){r.showReplyBox=!r.showReplyBox},this.collapse=function(){r.collapsed=!r.collapsed},this.showCommenterProfile=function(){return Object(w.g)({avatar:r.data.pictureUrl,id:r.data.userId,name:r.data.name,points:r.data.userPoints})},this.remove=function(e){r.replies=r.replies.filter(function(t){return t!==e})},S(this,"like",a,this),S(this,"dislike",c,this),this.data={authorType:t.authorType,commentText:t.commentText,createdTimestamp:t.createdTimestamp,id:t.id,likeCount:t.likeCount,name:Object(l.a)(t.name),parentId:t.parentId,pictureUrl:t.pictureUrl,state:t.state,timeago:Object(k.c)(t.createdTimestamp),topComment:t.topComment,userId:t.userId,userPoints:Object(l.i)(t.userPoints||0)};try{this.data.name=decodeURIComponent(this.data.name)}catch(e){}Object(f.n)(function(){return b.b.isAuthorized},function(e){e||(r._editMode=!1)})}return function(e,t,n){t&&j(e.prototype,t),n&&j(e,n)}(e,[{key:"isOwner",get:function(){return this.data.userId===(b.b.details&&b.b.details.id)}},{key:"editMode",get:function(){return this._editMode},set:function(e){this.replies.length>0?this.topAlert.value={type:"warning",message:y.a.messages.editingWithReplies,timeout:3e3}:this._editMode=e}}]),e}()).prototype,"_editMode",[f.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=C(r.prototype,"toggleEditMode",[f.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.editMode=!e.editMode}}}),a=C(r.prototype,"like",[f.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return O(s.a.mark(function t(){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.data.likeCount++,e.currentSessionLiked=!0,t.prev=2,t.next=5,p.c.post(e.data.id);case 5:if(!(n=t.sent).success){t.next=8;break}return t.abrupt("return",!0);case 8:throw new Error(n.errors[0]);case 11:return t.prev=11,t.t0=t.catch(2),e.data.likeCount--,e.bottomAlert.value={message:"cant_vote_for_own_comment"===t.t0.message?y.a.messages.ownCommentVote:y.a.messages.alreadyVoted,type:"error"},t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,null,[[2,11]])}))}}),c=C(r.prototype,"dislike",[f.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return O(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.data.likeCount--,e.currentSessionLiked=!1,t.prev=2,t.next=5,p.c.delete(e.data.id);case 5:return t.abrupt("return",!0);case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",!1);case 12:case"end":return t.stop()}},t,null,[[2,8]])}))}}),r);Object(f.h)(_,{bottomAlert:f.m,collapsed:f.m,data:f.m,loading:f.m,replies:f.m,showReplyBox:f.m,topAlert:f.m,isOwner:f.e,addReply:f.d,collapse:f.d,editComment:f.d,reject:f.d,remove:f.d,showCommenterProfile:f.d,toggleReplyBox:f.d});var P,E,T,A=_;function I(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function z(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){M(i,r,o,a,c,"next",e)}function c(e){M(i,r,o,a,c,"throw",e)}a(void 0)})}}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return T}),function(e){e.get_latest="get_latest",e.get_most_up_votes="get_most_up_votes",e.get_reverse_chrono="get_reverse_chrono",e.get_top_comment="get_top_comment",e.get_most_replied="get_most_replied",e.Latest="get_latest",e.MostUpVotes="get_most_up_votes",e.ReverseChrono="get_reverse_chrono",e.TopComment="get_top_comment",e.MostReplied="get_most_replied"}(T||(T={}));var R=(E=function(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}((P=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.totalComments=0,this.comments=[],this.selectedComment=void 0,this.loading=!0,this.moreAvailable=!0,this.sorting=T.Latest,this.syncWithWP=void 0,this.toLoad=void 0,this.removeComment=function(e){t.comments=t.comments.filter(function(t){return t!==e})},this.changeSorting=function(){var e=z(s.a.mark(function e(n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.selectedComment instanceof A&&(t.selectedComment=void 0),n!==t.sorting){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",t.loadComments(0,n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.loadMoreComments=z(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.loadComments(t.comments.length));case 1:case"end":return e.stop()}},e)})),this.addComment=function(e){t.sorting===T.Latest&&t.comments.unshift(new A(e,t.removeComment))},this.initialLoadSuccess=function(n,r){t.comments=e.createCommentsWithRecursion(n,t.removeComment),t.moreAvailable=n.length>=t.toLoad,t.totalComments=r,t.loading=!1},function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(this,"loadComments",E,this),this.syncWithWP="true"===m.a.get("wpSync"),this.toLoad=parseInt(m.a.get("commentsToLoad")||"5",10)}return function(e,t,n){t&&L(e.prototype,t),n&&L(e,n)}(e,[{key:"getCommentDetailsByID",value:function(){var t=z(s.a.mark(function t(n){var r,o=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,p.d.getByID(n);case 5:(r=t.sent).success&&r.data&&(this.selectedComment=e.createCommentWithReplies(r.data,function(){return o.selectedComment=void 0})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),Object(l.k)("error","getCommentDetailsByID err",t.t0);case 12:case"end":return t.stop()}},t,this,[[2,9]])}));return function(e){return t.apply(this,arguments)}}()}],[{key:"createCommentsWithRecursion",value:function(t,n){return!Array.isArray(t)||t.length<=0?[]:t.map(function(t){var r,o=new A(t,n);return(r=o.replies).push.apply(r,I(e.createCommentsWithRecursion(t.replies,o.remove))),o})}},{key:"createCommentWithReplies",value:function(t,n){var r,o=new A(t,n);return(r=o.replies).push.apply(r,I(e.createCommentsWithRecursion(t.replies,o.remove))),o}}]),e}()).prototype,"loadComments",[f.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return z(s.a.mark(function t(){var n,r,o,i,a,c=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:0,r=c.length>1&&void 0!==c[1]?c[1]:e.sorting,p.d.get.cancel(),e.sorting!==r&&(e.comments=[],e.sorting=r,e.moreAvailable=!1),e.loading=!0,t.prev=5,t.next=8,p.d.get.send({sortBy:r,start:n});case 8:i=t.sent,a=i.data.comments,(o=e.comments).push.apply(o,I(R.createCommentsWithRecursion(a.items,e.removeComment))),e.moreAvailable=a.items.length>=5,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(5);case 17:return t.prev=17,e.loading=!1,t.finish(17);case 20:case"end":return t.stop()}},t,null,[[5,14,17,20]])}))}}),P);Object(f.h)(R,{comments:f.m,loading:f.m,moreAvailable:f.m,selectedComment:f.m,sorting:f.m,totalComments:f.m,changeSorting:f.d,getCommentDetailsByID:f.d,initialLoadSuccess:f.d,loadMoreComments:f.d,removeComment:f.d});t.b=new R},32:function(e,t,n){"use strict";var r,o,i=n(8),a=n.n(i),c=n(1),u=n(51),s=n.n(u),l=n(9),f=n(81),p=n(4),m=n(7);function d(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,c,"next",e)}function c(e){d(i,r,o,a,c,"throw",e)}a(void 0)})}}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=(o=function(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}((r=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loading=!1,this.details=null,function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(this,"_token",o,this),this.authorizeWithToken=h(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,Object(l.l)("POST","".concat("https://api.vuukle.com","/api/v1/Auth/me"),{},"application/json",t.token);case 4:if(!(n=e.sent).success||"string"!=typeof s()(["data","email"],n)||"string"!=typeof s()(["data","name"],n)){e.next=9;break}return t.details={avatar:n.data.pictureUrl||null,email:n.data.email,id:n.data.userId,isModerator:n.data.siteList.includes(m.a.article.host),isPasswordEntered:n.data.isPasswordEntered,name:n.data.name,points:n.data.points},Object(f.e)(n.data.userId),e.abrupt("return",!0);case 9:throw new Error("[api/v1/Auth/me]. Response: ".concat(JSON.stringify(n),". Token: ").concat(t.token));case 12:throw e.prev=12,e.t0=e.catch(1),t.forgetUser(),new Error(p.a.messages.invalidLogin);case 16:return e.prev=16,t.loading=!1,e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,12,16,19]])})),this.forgetUser=function(){Object(f.c)(),t.token=null,t.details=null},this.authorizeSilently=h(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.token){e.next=3;break}throw new Error("no_token");case 3:return e.next=5,t.authorizeWithToken();case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),this.token&&this.authorizeSilently()}return function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(e,[{key:"token",get:function(){var e=Object(f.a)();return"string"==typeof e&&("string"==typeof this._token&&e!==this._token?this._token=e:this._token||(this._token=e)),this._token},set:function(e){e?(Object(f.d)(e),this._token=e):(Object(f.b)(),this._token=null)}},{key:"isAuthorized",get:function(){return!!(this.details&&this.details.id&&this.details.email)}}]),e}()).prototype,"_token",[c.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),r);Object(c.h)(g,{authorizeSilently:c.d,authorizeWithToken:c.d,details:c.m,forgetUser:c.d,isAuthorized:c.e,loading:c.m}),t.a=new g},4:function(e,t,n){"use strict";var r=n(199),o=n.n(r),i=n(10),a={common:{name:"Name",email:"Email",password:"Password",ageRange:"Select your age range",writeComment:"Write a comment",blankName:"Name cannot be blank",blankEmail:"Email cannot be blank",blankPassword:"Password cannot be blank",blankComment:"Comment cannot be blank",invalidEmail:"Invalid email, please try again.",invalidName:"The name should not contain numbers, URL, special characters or offensive words",reply:"Reply",replies:"Replies",report:"Report Comment",or:"or",to:"to",recommend:"Recommend",recommended:"Recommended",readMore:"Read more",showLess:"show less",points:"points",point:"point",moderator:"Mod",signIn:"Sign in",signUp:"Sign up",signInWith:"Sign in with:",signInWithVuukle:"or sign in using Vuukle:",signUpWithVuukle:"or sign up with Vuukle:",share:"Share",collapse:"Collapse",expand:"Expand",cancel:"Cancel"},profile:{myProfile:"My Profile",myComments:"My Comments",signOut:"Sign out",removeComment:"Remove comment"},toxicity:{long:'probability perceived as "toxic"',messageTooLong:"Characters limit exceeded. Please try to make your comment shorter or remove some symbols."},messages:{charlimits:"The moderator has set a character limit up to",alreadyReported:"You have already reported this comment to the moderator.",commentsClosed:"Comments are now closed.",alreadySubmitted:"Your comment has been already submitted for this article.",almostSame:"Your previous comment was almost the same. Please write something different.",flaggedMessage:"Thanks, the moderator will be notified",errorSubmitting:"There was an error while saving your comment, please refresh the page and try again",invalidLogin:"Invalid login, please login again",spammerComment:"Your comment is under moderation",moderationMessage:"Your comment is under moderation and will be approved by the site moderator. Thank you for your patience.",spamComment:'Seems like you are posting a spam comment. If you still want to send it just click on "POST" button again.',errorContactVuukle:"Error! Please try again, if the issue persists, let our team know on support@vuukle.com",ownCommentVote:"You cannot vote your own comment",alreadyVoted:"You have already voted. You can click again to remove your vote.",commentAdded:"Comment is successfully posted",noComments:"Be the first to comment",noCommentsInSorting:"No comments here",flagQuestion:"Do you want to report this comment?",toxicityLimit:"You cannot post comments with toxic probability of more than %d",emailExists:"This email is already in use",signInQuestion:"Already have an account?",signUpQuestion:"Don't have an account?",missingPassword:"Do not have a password?",passwordReset:"Click here to reset password",incorrectDetails:"Incorrect email or password.",blockedIp:"Please contact site owner as they have banned your ip.",blockedEmail:"Please contact site owner as they have banned your email.",editingWithReplies:"You cannot edit comments with replies.",protectedAction:"This action requires password authentication."},timeAgo:{seconds:"now",minutes:"%dm",hours:"%dh",days:"%dd",months:"%dmo",years:"%dY",locale:"en-US"},shareIcons:{facebook:"Share using Facebook",linkedin:"Share using Linkedin",twitter:"Share using Twitter"},login:{facebook:"Login using Facebook",google:"Login using Google",twitter:"Login using Twitter",disqus:"Login using Disqus"},commentText:{when1:"Comment",whenX:"Comments"},sorting:{editorsPick:"Editor's Pick",latest:"Latest",more:"More",mostLiked:"Best",mostReplied:"Most Replied",oldest:"Oldest",sortBy:"Sort by:"},buttons:{addComment:"Add Comment",like:"Like",liked:"Liked",loadMore:"Load more comments",post:"Post",showMoreArticles:"Show more articles"},footer:{addVuukle:"Add Vuukle",privacy:"Privacy"},recommendedStories:"Talk of the town"},c=a;!function(){var e=i.a.get("customText");if(e)try{c=o()(a,JSON.parse(e))}catch(e){console.warn("localization_text param is not correct JSON string")}}(),t.a=c},428:function(e,t,n){"use strict";n.r(t);n(210),n(396);var r,o=n(0),i=n(20),a=n(7),c=n(11),u=n(18),s=n(12),l=n(26),f=n(78),p=n(3),m=n(4),d=Object(p.d)(function(e){var t=e.className;return o.f("footer",{className:t},o.f("div",null,o.f("a",{href:"https://vuukle.com/comments-widget.html",target:"_blank",rel:"noopener nofollow",className:"add-vuukle-link"},o.f("svg",{viewBox:"0 0 24 24"},o.f("path",{d:"M19,11H15V15H13V11H9V9H13V5H15V9H19M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6Z"})),o.f("span",null,m.a.footer.addVuukle)),o.f("a",{href:"https://vuukle.com/terms.html",target:"_blank",rel:"noopener nofollow"},o.f("svg",{viewBox:"0 0 24 24"},o.f("path",{d:"M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"})),o.f("span",null,m.a.footer.privacy))),o.f("a",{href:"https://vuukle.com",target:"_blank",rel:"noopener nofollow",className:"v-logo"},o.f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 686.04 216.06"},o.f("g",null,o.f("path",{d:"M91.87,144.95l3.7-9c7.2-17.73,14.51-35.45,21.71-53.18C124.17,66,131,49.06,137.85,32.26c3.09-7.46,6.07-14.93,9.26-22.39A2.49,2.49,0,0,1,149,8.52c10-.1,20-.1,29.83-.1.21,0,.41.21.82.31a13.2,13.2,0,0,1-.62,1.87c-10.18,24.15-20.47,48.31-30.66,72.46-10.8,25.5-21.5,51-32.3,76.51L92.9,214.3c-.31.73-1,1.14-1.65,1.76-.51-.62-1.34-1.14-1.65-1.76-4.84-10.88-9.57-21.77-14.3-32.55L54.63,134.17Q41.36,103.69,28,73C18.93,52.37,10,31.64.93,10.91.62,10.28.41,9.56,0,8.63a17.38,17.38,0,0,1,2.16-.1c9.77-.1,19.55,0,29.22-.1a3.13,3.13,0,0,1,3.29,2.18c8.33,19.8,16.67,39.7,25,59.5q14.81,35.14,29.53,70.08c.72,1.66,1.34,3.21,2.06,4.87a1.3,1.3,0,0,1,.62-.1Z"}),o.f("path",{d:"M512.2,213.26H478.68a3.34,3.34,0,0,1-3.3-1.76c-7.53-11.39-15.06-22.67-22.59-34-.31-.52-.72-1-1.13-1.66-.31.1-.52.1-.62.21C447.42,180,443.91,184,440.4,188a4.29,4.29,0,0,0-.52,2.38V213a14.45,14.45,0,0,1-1.86.21c-8.67,0-17.33-.1-26,0-1.75,0-2.27-.52-2.27-2.17q.15-104.35,0-208.7c0-1.76.52-2.38,2.37-2.38,8.25.1,16.61.1,25,.1,2.79,0,2.79,0,2.79,2.69v146.9c.72-.62,1.13-.93,1.44-1.24,10.21-12.11,20.32-24.12,30.43-36.23a4.34,4.34,0,0,1,3.82-1.86c9.9.1,19.81,0,29.71,0h2.79c-.83,1-1.34,1.66-1.86,2.28l-33,38.1c-1.24,1.35-1.34,2.28-.31,3.83,12.79,18.84,25.48,37.89,38.07,56.73a13.31,13.31,0,0,1,1.24,2Z"}),o.f("path",{d:"M679.11,198.59c-3.29,2.58-6.38,5.48-10,7.75-12.46,8-26.25,9.72-40.66,8.58a58.41,58.41,0,0,1-27.38-8.58c-12-7.55-19.76-18.3-22.75-32.26s-1.54-27.4,5.56-39.91a50.55,50.55,0,0,1,29.54-24c15.54-5,30.88-4.34,45.39,3.52,12.87,6.93,20.48,18.09,24.5,31.95A72.94,72.94,0,0,1,686,168.71c0,2.07-.41,2.79-2.57,2.69H608.19a21.38,21.38,0,0,0,.72,2.58c3.5,9.72,10.91,14.58,20.79,15.61,11.12,1.34,21.41-1.24,30.16-8.58.72-.62,1.34-.93,2.26-.1,5.35,5.48,10.81,11,16.26,16.44a4.59,4.59,0,0,1,.72,1.24ZM608.6,150h45.6c-1.54-10.65-10.71-17.68-22.34-17.58-13.18.1-21.31,8.17-23.26,17.58Z"}),o.f("path",{d:"M191.68,109.43v2.91c0,19.45-.1,38.91,0,58.26,0,6.14,1.86,11.55,7.34,15,3.83,2.39,8.07,2.91,12.51,2.7,7.65-.42,14.17-2.91,18.1-10.09,2.38-4.58,2.79-9.67,2.79-14.77.1-17,0-34,0-51v-2.81a17.3,17.3,0,0,1,2.07-.21c8.58,0,17.17.1,25.85,0,1.65,0,2.07.52,2.07,2.08v99.24c0,1.14,0,2.08-1.55,2.08h-27.3c-.31,0-.52-.21-1-.31V200.77a1.74,1.74,0,0,1-.52-.21,16.37,16.37,0,0,0-1.24,1.56c-5.48,7.59-13.13,11.34-22.13,12.8-7.76,1.14-15.31.94-22.65-1.87-12.2-4.47-19.44-13.52-22.44-25.9a78.46,78.46,0,0,1-2-17.06c-.21-19.35,0-38.7-.1-58,0-2,.41-2.6,2.48-2.6,8.48.1,17,0,25.44,0Z"}),o.f("path",{d:"M355.71,201c-2.9,2.81-5.48,5.83-8.58,8.23-6,4.48-13,6-20.27,6.35-10.34.52-20-1.67-28.13-8.54a35.68,35.68,0,0,1-12-20.62,86.87,86.87,0,0,1-1.65-17.08c-.21-19.06-.1-38.11-.1-57.06,0-2.81,0-2.81,2.69-2.81,8.38,0,16.65.1,25,0,2,0,2.38.52,2.38,2.5,0,19.26,0,38.53.1,57.79a27.33,27.33,0,0,0,1.24,8.23c1.55,5.21,5.38,8.43,10.65,9.68a28,28,0,0,0,15.51-.62c8.89-3,12.31-9.89,13.13-18.64.1-1.77.1-3.64.1-5.41V109.64c.93-.1,1.55-.21,2.07-.21,8.69,0,17.27.1,25.85,0,1.65,0,2.17.42,2.17,2.08q-.16,49.67,0,99.34c0,1.67-.62,2.08-2.17,2.08-8.58-.1-17.27-.1-25.85,0-1.65,0-2.17-.52-2.07-2.19.1-2.71,0-5.41,0-8.12a8,8,0,0,0-.1-1.67Z"}),o.f("path",{d:"M527.64.21A19.84,19.84,0,0,1,530,.1c8.28,0,16.55,0,24.83-.1,1.72,0,2.32.41,2.32,2.48V210.57c0,2-.4,2.69-2.42,2.59-8.28-.1-16.65-.1-25,0-1.51,0-2-.52-2-2.07.1-11.8,0-23.49,0-35.18V.21Z"})))))}).withConfig({displayName:"Footer__StyledFooter",componentId:"sc-1v42zd4-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;margin:30px 0 10px;padding-top:10px;border-top:1px solid #e7e9ed;a{display:inline-flex;align-items:center;font-weight:bold;}> div{font-size:0.8rem;a{color:",";svg{fill:",";}&:last-child{margin-left:5px;}}svg{margin-right:2px;width:15px;height:15px;fill:",";}}> div,.v-logo{margin-bottom:5px;}.v-logo{svg{width:50px;fill:",";}&:hover{svg{fill:",";}}}@media (max-width:320px){.add-vuukle-link{display:none;}}@media (max-width:200px){flex-direction:column;align-items:center;}"],function(e){return e.theme.mutedColor},function(e){return e.theme.mutedColor},function(e){return e.theme.primaryColor},function(e){return e.theme.mutedColor},function(e){return e.theme.primaryColor}),h=n(17),b=n(36),g=Object(p.d)(function(e){var t=e.recommended,n=e.recommends,r=e.className,i=e.inProgress,a=void 0!==i&&i,c=e.onClick;return o.f(h.a,{sm:!0,type:"subtle",className:r,onClick:c,active:t,loading:a},o.f("span",{role:"img","aria-label":"heart"},"❤️"),o.f("span",null,t?m.a.common.recommended:m.a.common.recommend)," ",o.f(b.a,null,n))}).withConfig({displayName:"RecommendButton__StyledRecommendButton",componentId:"sc-1nzgcba-0"})(["span{text-transform:capitalize !important;transition:all 0.2s;}span[role='img']{margin-right:2px;opacity:",";}&:hover{span[role='img']{opacity:1;}}"],function(e){return e.recommended?1:.5});function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O,S=p.d.header.withConfig({displayName:"Header__Wrapper",componentId:"sc-4ouxh3-0"})(["display:flex;justify-content:space-between;align-items:center;padding-bottom:5px;margin-bottom:15px;margin-top:5px;border-bottom:1px solid rgba(150,150,150,0.2);> div:first-child{font-weight:600;}"]),j=Object(c.b)("commentsStore","widgetStore")(r=Object(c.c)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,k(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,o["b"]),function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(t,[{key:"render",value:function(){return this.injected.commentsStore.loading&&this.injected.commentsStore.totalComments<=0?null:o.f(S,{className:this.props.className},o.f("div",null,1===this.injected.commentsStore.totalComments?m.a.commentText.when1:m.a.commentText.whenX," ","(",this.injected.commentsStore.totalComments,")"),o.f("div",null,o.f(g,{recommended:this.injected.widgetStore.isRecommended,recommends:this.injected.widgetStore.recommendCount,onClick:this.injected.widgetStore.recommend,inProgress:this.injected.widgetStore.recommendInProgress})))}},{key:"injected",get:function(){return this.props}}]),t}())||r)||r,C=n(90),_=n(57),P=n(80),E=n(25),T=n(92),A=Object(p.d)(function(e){var t=e.active,n=e.className,r=e.onSelect;return o.f(T.b,{className:n,active:t,onSelect:r},o.f("span",{className:"v-sorting-header"},m.a.sorting.sortBy," "),o.f(T.a,{name:"get_latest",className:"v-t-pane"},m.a.sorting.latest),o.f(T.a,{name:"get_most_up_votes",className:"v-t-pane"},m.a.sorting.mostLiked),o.f(T.a,{name:"get_top_comment",className:"v-t-pane"},m.a.sorting.editorsPick),o.f(_.a,{align:"right",className:"get_most_replied"===t||"get_reverse_chrono"===t?"active v-t-pane":"v-t-pane",menu:o.f(E.a,null,o.f(E.a.Item,{onClick:function(){return r("get_top_comment")},active:"get_top_comment"===t,className:"v-editors-pick"},m.a.sorting.editorsPick),o.f(E.a.Item,{onClick:function(){return r("get_most_replied")},active:"get_most_replied"===t},m.a.sorting.mostReplied),o.f(E.a.Item,{onClick:function(){return r("get_reverse_chrono")},active:"get_reverse_chrono"===t},m.a.sorting.oldest))},o.f("a",{href:"#"},m.a.sorting.more," ",o.f(P.a,{type:"caret"}))))}).withConfig({displayName:"SortingRow__StyledSortingRow",componentId:"sc-1c89dac-0"})([".v-sorting-header{margin-right:5px;}.v-editors-pick{display:none;}@media (max-width:400px){.v-sorting-header,.v-t-pane:nth-child(4){display:none;}.v-editors-pick{display:block;}}"]),I=n(27),M=n(91),z=n(205),L=n(55),R=n(37),V=n.n(R),N=n(56),D=function(e){var t=e.id,n=e.value,r=e.onChange,i=e.disabled,a=void 0!==i&&i;return o.f(N.a,{type:"email",value:n,placeholder:m.a.common.email,dir:"auto",name:"email",id:"email-".concat(t),onChange:r,required:!0,disabled:a})},H=function(e){var t=e.id,n=(e.value,e.onChange),r=e.minLength,i=void 0===r?5:r;return o.f(N.a,{type:"password",name:"password",id:"password-".concat(t),placeholder:m.a.common.password,minLength:i,maxLength:32,onChange:n,required:!0})},B=p.d.form.withConfig({displayName:"StyledForm",componentId:"z87iqb-0"})(["input[type='text'],input[type='email'],input[type='password'],> div{display:block;margin-bottom:10px;}input[type='checkbox']{margin:0 5px;}"]);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=Object(c.b)("authStore","userStore")(O=Object(c.c)(O=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=q(this,(e=U(t)).call.apply(e,[this].concat(o)))).id=V()("pwd"),n.state={password:""},n.onSubmit=function(e){e.preventDefault(),n.injected.authStore.signIn(n.injected.userStore.details&&n.injected.userStore.details.email||"",n.state.password).then(function(){n.injected.authStore.error||n.setState({password:""})})},n.handleInputChange=function(e){return n.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.currentTarget.name,e.currentTarget.value))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,o["b"]),function(e,t,n){t&&W(e.prototype,t),n&&W(e,n)}(t,[{key:"render",value:function(){var e=this.injected.authStore,t=e.closeAlert,n=e.error,r=e.inProgress;return o.f(B,{onSubmit:this.onSubmit},o.f("div",null,o.f("p",null,m.a.messages.protectedAction),o.f(D,{id:this.id,value:this.injected.userStore.details&&this.injected.userStore.details.email||"",onChange:this.handleInputChange,disabled:!0}),o.f(H,{id:this.id,value:this.state.password,minLength:0,onChange:this.handleInputChange}),n&&o.f(I.a,{type:"error",onClose:t},this.injected.authStore.error),o.f("div",{style:{textAlign:"right"}},o.f("p",null,o.f("span",{style:{margin:"0 5px"}},"Forgot password?"," ",o.f("a",{href:"https://user.vuukle.com/forgot-password",target:"_blank",rel:"nofollow"},m.a.messages.passwordReset))),o.f(h.a,{disabled:r,htmlType:"button",onClick:this.props.onClose,type:"subtle",style:{margin:"0 5px"}},m.a.common.cancel),o.f(h.a,{loading:r,htmlType:"submit"},m.a.common.signIn))))}},{key:"injected",get:function(){return this.props}}]),t}())||O)||O;function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=p.d.div.withConfig({displayName:"EditFormWrapper__Wrapper",componentId:"sc-48jpxd-0"})(["display:flex;flex-direction:row;> div:first-child{flex:0 0 40px;margin-right:10px;}> div:last-child{flex:1 1 100%;max-width:calc(100% - 50px);}"]),ee=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=X(this,(e=Z(t)).call.apply(e,[this].concat(i)))).renderAlert=function(){return n.props.alert?o.f(I.a,{type:n.props.alert.type,onClose:n.props.closeAlert},n.props.alert.message):null},n.renderAuthenticatedActions=function(){return o.f("div",{style:{textAlign:"right"}},o.f(h.a,{disabled:n.props.inProgress,onClick:n.props.closeEditor,htmlType:"button",type:"subtle",style:{margin:"0 5px"}},"Cancel"),o.f(h.a,{loading:n.props.inProgress,htmlType:"submit"},"Save Edit"))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,o["c"]),function(e,t,n){t&&J(e.prototype,t),n&&J(e,n)}(t,[{key:"render",value:function(){return o.f($,null,o.f("div",null,o.f(L.a,{src:this.props.comment.data.pictureUrl,name:this.props.comment.data.name,hash:this.props.comment.data.userId})),o.f("div",null,o.f("form",{onSubmit:this.props.onSubmit},this.props.children,o.f("div",{style:{marginTop:"10px"}},this.renderAlert(),this.props.authenticatedWithPassword&&this.renderAuthenticatedActions())),!this.props.authenticatedWithPassword&&o.f(G,{onClose:this.props.closeEditor})))}}]),t}(),te=n(29),ne=n.n(te),re=Object(p.d)("div").withConfig({displayName:"TextareaFooter__TextareaFooterWrapper",componentId:"zgumin-0"})(["min-height:30px;display:flex;justify-content:space-between;align-items:center;padding:7px 10px;margin:0;font-size:0.8rem;color:",";background-color:",";border:1px solid ",";border-top:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px;"],function(e){return e.theme.mutedColor},function(e){return ne()(.02,e.theme.input.background)},function(e){return e.focused?e.theme.input.active.border:e.theme.input.border});function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=p.d.div.withConfig({displayName:"EditorBox__StyledEditor",componentId:"sc-1vcg60r-0"})(["display:block;padding:15px;text-align:left;min-height:",";max-height:300px;overflow-y:auto;background:",";border-radius:4px 4px 0 0;&:focus,&:active{outline:none;}&:empty:before{content:attr(placeholder);display:block;color:",";}"],function(e){return 30+16*(e.rows||2)+"px"},function(e){return e.theme.input.background},function(e){return e.theme.mutedColor}),fe=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=ce(this,(e=ue(t)).call.apply(e,[this].concat(o)))).onPaste=function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t),n.props.onPaste&&n.props.onPaste(e)},n.onKeyDown=function(e){var t=function(){return n.props.onKeyDown?n.props.onKeyDown(e):void 0};return e.keyCode,t(),!1},n.onInput=function(e){return e.currentTarget.innerHTML,n.props.onChange?n.props.onChange(e):void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,o["h"].PureComponent),function(e,t,n){t&&ae(e.prototype,t),n&&ae(e,n)}(t,[{key:"componentDidMount",value:function(){document.execCommand("defaultParagraphSeparator",!1,"p")}},{key:"render",value:function(){return o.h.createElement(le,{className:"editor",contentEditable:!this.props.disabled,onInput:this.onInput,ref:this.props.forwardRef,id:this.props.id,onFocus:this.props.onFocus,onBlur:this.props.onBlur,placeholder:this.props.placeholder,onClick:this.props.onClick,onPaste:this.onPaste,onKeyDown:this.onKeyDown,rows:this.props.rows,dangerouslySetInnerHTML:{__html:this.props.value}})}}]),t}();fe.defaultProps={disabled:!1,placeholder:"",rows:2};var pe=o.h.forwardRef(function(e,t){return o.h.createElement(fe,oe({},e,{forwardRef:t}))}),me=n(8),de=n.n(me),he=n(206),be=n.n(he),ge=p.d.img.withConfig({displayName:"GifItem__Image",componentId:"sc-7kje2x-0"})(["height:100%;width:100%;object-fit:cover;"]),ye=p.d.div.withConfig({displayName:"GifItem__GifWrapper",componentId:"sc-7kje2x-1"})(["margin-bottom:5px;width:49%;overflow:hidden;cursor:pointer;&:hover{background:black;}&:hover ","{opacity:0.9;}"],ge),ve=function(e){var t=e.image,n=e.onClick;return o.h.createElement(ye,{onClick:n},o.h.createElement(ge,{src:t}))},we=n(153);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Oe(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){xe(i,r,o,a,c,"next",e)}function c(e){xe(i,r,o,a,c,"throw",e)}a(void 0)})}}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pe=p.d.div.withConfig({displayName:"GifPicker__SearchResult",componentId:"iglefo-0"})(["margin-top:5px;margin-right:-5px;height:250px;overflow-y:auto;> p{font-size:0.8em;color:",";text-transform:uppercase;font-weight:bold;margin:0 0 10px;}> div{display:flex;flex-wrap:wrap;justify-content:space-between;}"],function(e){return e.theme.mutedColor}),Ee=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=je(this,Ce(t).call(this,e))).onSearchInputChange=function(e){return n.setState({searchValue:e.currentTarget.value||""},function(){return n.searchGIFs()})},n.getTrending=Oe(de.a.mark(function e(){var t;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(we.b)();case 2:t=e.sent,n.setState({GIFs:t.data});case 4:case"end":return e.stop()}},e)})),n.searchGIFs=be()(Oe(de.a.mark(function e(){var t;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.searchValue){e.next=7;break}return e.next=3,Object(we.a)(n.state.searchValue);case 3:t=e.sent,n.setState({searchGIFs:t.data}),e.next=8;break;case 7:n.getTrending().then(function(){return n.setState({searchGIFs:[]})});case 8:case"end":return e.stop()}},e)})),1e3),n.renderGifItems=function(e){return e.map(function(e){return o.h.createElement(ve,{key:e.id,image:e.images.fixed_height_small.url,onClick:function(){return n.props.onSelect(e.images.downsized_medium.url)}})})},n.state={GIFs:[],searchGIFs:[],searchValue:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,o["h"].Component),function(e,t,n){t&&Se(e.prototype,t),n&&Se(e,n)}(t,[{key:"componentDidMount",value:function(){this.getTrending()}},{key:"render",value:function(){var e=this.state.searchGIFs.length>0?this.state.searchGIFs:this.state.GIFs;return o.h.createElement("div",null,o.h.createElement("div",null,o.h.createElement(N.a,{placeholder:"Search GIFs via Giphy ...",value:this.state.searchValue,onChange:this.onSearchInputChange})),o.h.createElement(Pe,null,o.h.createElement("p",null,this.state.searchGIFs.length?"SEARCH RESULTS":"TRENDING"),o.h.createElement("div",null,this.renderGifItems(e))))}}]),t}(),Te=p.d.button.withConfig({displayName:"Options__Button",componentId:"sc-15raatj-0"})(["-webkit-appearance:none !important;outline:none;border:none;background:transparent;transition:color 0.2s;cursor:pointer;margin:0;padding:0 5px;&:hover{svg{fill:",";transition:all 0.3s;}}svg{max-width:20px;width:100%;fill:",";",";}",";",""],function(e){return e.theme.textColor},function(e){return e.theme.mutedColor},function(e){return e.disabled&&"fill: ".concat(e.theme.mutedColor," !important")},function(e){return e.active&&"\n    color: ".concat(e.theme.textColor,";\n    font-weight: bold;\n    svg {\n      fill: ").concat(e.theme.textColor,";\n    }\n  ")},function(e){return e.disabled&&"cursor: not-allowed;"}),Ae=p.d.div.withConfig({displayName:"Options__Wrapper",componentId:"sc-15raatj-1"})(["display:flex;justify-content:flex-start;flex-direction:row;height:30px;background:",";padding:0 4px;border:0;border-top:1px dashed ",";align-items:center;"],function(e){return e.theme.input.background},function(e){return e.theme.input.border}),Ie=function(e){var t=e.options,n=e.children;return o.h.createElement(Ae,null,n,o.h.createElement("span",null," "),t.map(function(e){return o.h.createElement(Te,{dangerouslySetInnerHTML:{__html:e.icon},onClick:e.onClick,active:e.active,title:e.title,type:"button",key:e.title})}))},Me=function(){return o.h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 439.875 439.875"},o.h.createElement("path",{d:"M76.5,191.25v57.375c0,21.037,17.212,38.25,38.25,38.25h57.375v-15.3V229.5v-19.125H114.75V229.5H153v38.25h-38.25 c-11.475,0-19.125-7.65-19.125-19.125V191.25c0-11.475,7.65-19.125,19.125-19.125h57.375V153H114.75 C93.712,153,76.5,170.212,76.5,191.25z"}),o.h.createElement("polygon",{points:"191.25,172.125 210.375,172.125 210.375,267.75 191.25,267.75 191.25,286.875 248.625,286.875 248.625,267.75 229.5,267.75 229.5,172.125 248.625,172.125 248.625,153 191.25,153"}),o.h.createElement("path",{d:"M382.5,95.625H57.375C24.862,95.625,0,120.487,0,153v133.875c0,32.513,24.862,57.375,57.375,57.375H382.5 c32.513,0,57.375-24.862,57.375-57.375V153C439.875,120.487,415.013,95.625,382.5,95.625z M420.75,286.875 c0,21.037-17.213,38.25-38.25,38.25H57.375c-21.038,0-38.25-17.213-38.25-38.25V153c0-21.038,17.212-38.25,38.25-38.25H382.5 c21.037,0,38.25,17.212,38.25,38.25V286.875z"}),o.h.createElement("polygon",{points:"267.75,286.875 286.875,286.875 286.875,229.5 344.25,229.5 344.25,210.375 286.875,210.375 286.875,172.125 363.375,172.125 363.375,153 267.75,153"}))};function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=p.d.div.withConfig({displayName:"GIFDropdown__Wrapper",componentId:"sc-4yzl3w-0"})(["position:relative;.menu{position:absolute;left:0;top:20px;width:350px;padding:10px;}"]),He=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=Re(this,(e=Ve(t)).call.apply(e,[this].concat(i)))).wrapperRef=o.h.createRef(),n.state={displayMenu:!1},n.showMenu=function(e){e.preventDefault(),n.setState({displayMenu:!0},function(){return document.addEventListener("click",n.hideMenu)})},n.hideMenu=function(e){var t=n.wrapperRef.current.querySelector("button");(n.wrapperRef.current&&!n.wrapperRef.current.contains(e.target)||t&&t.contains(e.target))&&n.setState({displayMenu:!1},function(){return document.removeEventListener("click",n.hideMenu)})},n.renderMenu=function(){return o.h.createElement(E.a,{className:"menu"},o.h.createElement(Ee,{onSelect:function(e){n.setState({displayMenu:!1}),n.props.onSelect(e)}}))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,o["h"].Component),function(e,t,n){t&&Le(e.prototype,t),n&&Le(e,n)}(t,[{key:"render",value:function(){return o.h.createElement(De,{ref:this.wrapperRef},o.h.createElement(Te,{type:"button",onClick:this.showMenu,disabled:this.props.disabled},o.h.createElement(Me,null)),this.state.displayMenu&&this.renderMenu())}}]),t}(),Be=n(107),Fe=p.d.div.withConfig({displayName:"ImagePreview__EntityItem",componentId:"sc-5x0e6r-0"})(["display:inline-block;max-width:300px;padding:10px;text-align:center;"]);var We=function(e){var t=e.onRemove,n=e.url;return o.h.createElement(Fe,null,o.h.createElement("img",{src:n,style:{width:"100%",height:"auto"},alt:"Comment image"}),o.h.createElement("div",null,o.h.createElement(Be.a,{light:!0,onClick:function(){return t(n)}},"Remove")))};var qe,Ue,Ke,Ge,Ye=Object(c.c)(function(e){var t=e.onRemove,n=e.items;return o.h.createElement("div",null,n.map(function(e){return o.h.createElement(We,{onRemove:t,key:e,url:e})}))}),Je=function(){return o.f("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 333.668 333.668"},o.f("path",{d:"M295.101,298.649H38.561C17.295,298.649,0,281.354,0,260.088V103.703c0-21.266,17.295-38.561,38.561-38.561h52.347 l4.582-15.457c1.87-8.458,9.602-14.666,18.696-14.666h105.297c8.837,0,16.658,6.176,18.728,14.743l0.122,0.527l4.177,14.852h52.597 c21.266,0,38.561,17.295,38.561,38.561v156.384C333.662,281.354,316.361,298.649,295.101,298.649z M38.561,77.996 c-14.178,0-25.707,11.53-25.707,25.707v156.384c0,14.178,11.53,25.707,25.707,25.707h256.54c14.178,0,25.707-11.53,25.707-25.707 V103.703c0-14.178-11.53-25.707-25.707-25.707h-62.327l-7.037-25.097c-0.649-2.918-3.278-5.032-6.26-5.032H114.179 c-3.027,0-5.598,2.069-6.26,5.039l-7.429,25.09H38.561z M166.841,259.798c-44.981,0-81.576-36.588-81.576-81.563 c0-44.981,36.594-81.569,81.576-81.569c44.969,0,81.557,36.594,81.557,81.569C248.397,223.204,211.809,259.798,166.841,259.798z M166.841,109.513c-37.893,0-68.722,30.823-68.722,68.716s30.83,68.709,68.722,68.709c37.886,0,68.703-30.823,68.703-68.709 C235.543,140.336,204.72,109.513,166.841,109.513z M286.804,101.852c-6.555,0-11.858,5.315-11.858,11.858 c0,6.549,5.302,11.857,11.858,11.857c6.549,0,11.851-5.309,11.851-11.857C298.649,107.167,293.346,101.852,286.804,101.852z"}))},Xe=Object(p.d)(function(e){var t=e.className,n=e.onFileInputChange,r=e.disabled,i=V()("upload_");return o.f("div",{className:t},o.f(Te,{type:"button",as:"label",for:i,style:{margin:"0 5px"},disabled:r},o.f(Je,null)),o.f("input",{type:"file",name:i,accept:".png,.jpg,.jpeg,.bmp",id:i,onChange:n,disabled:r}))}).withConfig({displayName:"UploadImageButton__StyledUploadButton",componentId:"ets9lc-0"})(["position:relative;overflow:hidden;input[type='file']{font-size:100px;position:absolute;left:0;top:0;opacity:0;visibility:hidden;cursor:pointer;}"]),Ze=n(1),Qe=function(e){var t=window.getSelection(),n=null,r=!1;for(e=e.toUpperCase(),t.rangeCount>0&&(n=t.getRangeAt(0).commonAncestorContainer);n;){if(1===n.nodeType&&n.tagName===e){r=!0,n=null;break}if("true"===n.contentEditable){r=!1;break}n=n.parentNode}return r};function $e(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var nt=(Ue=tt((qe=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ref=Object(o.g)(),this.formattingState=void 0,this.isEdgeBrowser=document.documentMode||/Edge/.test(navigator.userAgent),$e(this,"getFormattingState",Ue,this),$e(this,"focus",Ke,this),this.updateFormattingState=function(){return t.formattingState=t.getFormattingState()},$e(this,"formatText",Ge,this),this.formatBlock=function(e){t.focus(),Qe("blockquote")&&(document.execCommand("outdent",!1),"blockquote"===e)||(document.queryCommandState("insertUnorderedList")&&document.execCommand("insertUnorderedList"),Qe(e)?document.execCommand("formatBlock",!1,"p"):(document.queryCommandValue("formatBlock")&&"Normal"!==document.queryCommandValue("formatBlock")&&document.execCommand("formatBlock",!1,"p"),document.execCommand("formatBlock",!1,"<".concat(e,">"))),t.removeAttributes(),t.updateFormattingState(),t.focus())},this.removeAttributes=function(){t.ref.current&&t.ref.current.querySelectorAll("*").forEach(function(e){e instanceof HTMLElement&&e.removeAttribute("style")})},this.insertList=function(e){t.focus(),Qe("blockquote")&&document.execCommand("outdent",!1),(Qe("pre")||Qe("blockquote"))&&t.formatBlock("p"),"ol"===e?document.execCommand("insertOrderedList"):document.execCommand("insertUnorderedList"),t.removeAttributes(),t.focus()},this.formattingState=this.getFormattingState()}return function(e,t,n){t&&et(e.prototype,t),n&&et(e,n)}(e,[{key:"options",get:function(){var e=this,t=this.formattingState,n=t.italic,r=t.bold,o=t.underline,i=t.blockquote,a=t.pre,c=t.ul,u=[{active:r,icon:'\n <svg\n      xmlns="http://www.w3.org/2000/svg"\n      xmlnsXlink="http://www.w3.org/1999/xlink"\n      version="1.1"\n      viewBox="0 0 24 24"\n    >\n      <path d="M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z" />\n    </svg>\n',title:"Bold",onClick:function(){return e.formatText("bold")}},{active:n,icon:'\n  <svg\n    xmlns="http://www.w3.org/2000/svg"\n    xmlnsXlink="http://www.w3.org/1999/xlink"\n    version="1.1"\n    viewBox="0 0 24 24"\n  >\n    <path d="M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z" />\n  </svg>\n',onClick:function(){return e.formatText("italic")},title:"Italic"},{active:o,icon:'\n  <svg\n    xmlns="http://www.w3.org/2000/svg"\n    xmlnsXlink="http://www.w3.org/1999/xlink"\n    version="1.1"\n    viewBox="0 0 24 24"\n  >\n    <path d="M5,21H19V19H5V21M12,17A6,6 0 0,0 18,11V3H15.5V11A3.5,3.5 0 0,1 12,14.5A3.5,3.5 0 0,1 8.5,11V3H6V11A6,6 0 0,0 12,17Z" />\n  </svg>\n',onClick:function(){return e.formatText("underline")},title:"Underline"}];return this.isEdgeBrowser?u:[].concat(u,[{active:i,icon:'\n<svg\n    xmlns="http://www.w3.org/2000/svg"\n    xmlnsXlink="http://www.w3.org/1999/xlink"\n    version="1.1"\n    viewBox="0 0 24 24"\n  >\n    <path d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />\n  </svg>\n',onClick:function(){return e.formatBlock("blockquote")},title:"Quotation"},{icon:'\n  <svg\n    xmlns="http://www.w3.org/2000/svg"\n    xmlnsXlink="http://www.w3.org/1999/xlink"\n    version="1.1"\n    viewBox="0 0 24 24"\n  >\n    <path d="M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z" />\n  </svg>\n',title:"Code",onClick:function(){return e.formatBlock("pre")},active:a},{icon:'\n  <svg\n    xmlns="http://www.w3.org/2000/svg"\n    xmlnsXlink="http://www.w3.org/1999/xlink"\n    version="1.1"\n    viewBox="0 0 24 24"\n  >\n    <path d="M3,13H5V11H3V13M3,17H5V15H3V17M3,9H5V7H3V9M7,13H21V11H7V13M7,17H21V15H7V17M7,7V9H21V7H7Z" />\n  </svg>\n',title:"List",onClick:function(){return e.insertList("ul")},active:c}])}}]),e}()).prototype,"getFormattingState",[Ze.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){return{blockquote:Qe("blockquote"),bold:document.queryCommandState("bold"),italic:document.queryCommandState("italic"),pre:Qe("pre"),ul:document.queryCommandState("insertUnorderedList"),underline:document.queryCommandState("underline")}}}}),Ke=tt(qe.prototype,"focus",[Ze.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.ref.current&&e.ref.current.focus()}}}),Ge=tt(qe.prototype,"formatText",[Ze.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.focus(),document.execCommand(t,!1),e.formattingState=e.getFormattingState(),e.focus()}}}),qe);Object(Ze.h)(nt,{formattingState:Ze.m,updateFormattingState:Ze.d,options:Ze.e});var rt,ot,it,at=nt;function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pt=p.d.div.withConfig({displayName:"RichEditor__Wrapper",componentId:"sc-12vneeu-0"})(["border:1px solid ",";border-radius:4px 4px 0 0;border-bottom-style:dashed;background-color:",";word-break:break-word;",";"],function(e){return e.theme.input.border},function(e){return e.theme.input.background},function(e){return e.focused&&"border-color: ".concat(e.theme.input.active.border,";")}),mt=Object(c.c)((it=ot=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=st(this,lt(t).call(this,e))).formattingStore=new at,n.onEditorClick=function(e){n.formattingStore.updateFormattingState(),n.props.onClick&&n.props.onClick(e)},n.onEditorFocus=function(){n.setState({isFocused:!0}),n.props.onFocus&&n.props.onFocus()},n.onEditorBlur=function(){n.setState({isFocused:!1}),n.props.onBlur&&n.props.onBlur()},n.onEditorKeyDown=function(e){n.formattingStore.updateFormattingState(),n.props.onKeyDown&&n.props.onKeyDown(e)},n.onEditorChange=function(e){n.props.onChange&&n.props.onChange({html:e.currentTarget.innerHTML,images:n.props.images,text:e.currentTarget.innerText})},n.onUploadChange=function(e){var t=Array.from(e.target.files);t[0]instanceof File&&n.props.addImage(t[0])},n.state={isFocused:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,o["h"].Component),function(e,t,n){t&&ut(e.prototype,t),n&&ut(e,n)}(t,[{key:"render",value:function(){return o.h.createElement(pt,{focused:this.state.isFocused},o.h.createElement(pe,{id:this.props.id,onChange:this.onEditorChange,onFocus:this.onEditorFocus,onBlur:this.onEditorBlur,onClick:this.onEditorClick,onKeyDown:this.onEditorKeyDown,disabled:this.props.disabled,placeholder:this.props.placeholder,ref:this.formattingStore.ref,value:this.props.value,rows:this.props.rows}),o.h.createElement(Ye,{items:this.props.images,onRemove:this.props.removeImage}),this.props.showFormattingRow&&o.h.createElement(Ie,{options:this.formattingStore.options},!this.props.imagesDisabled&&!this.props.hideUploadImage&&o.h.createElement(Xe,{onFileInputChange:this.onUploadChange,disabled:this.props.imagesDisabled}),o.h.createElement(He,{onSelect:this.props.addImage,disabled:this.props.imagesDisabled})))}}]),t}(),ot.defaultProps={disabled:!1,imagesDisabled:!1,placeholder:"Write Comment",rows:2,showFormattingRow:!0},rt=it))||rt;function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ht(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var bt,gt=Object(p.e)(["0%{transform:scale(0)}100%{transform:scale(1);opacity:0.5}"]),yt=Object(p.e)(["0%{border-radius:50%;transform:scale(0.3);}50%{transform:scale(1.2) rotate(90deg);border-radius:0%;}100%{transform:rotate(225deg);}"]),vt=Object(p.e)(["0%{border-radius:50%;transform:scale(0.3);}50%{transform:scale(1.2);border-radius:0%;}"]),wt=Object(p.e)(["0%{border-radius:50%;transform:scale(0.3);}50%{transform:scale(1.2);border-radius:0%;}"]),kt=Object(p.e)(["0%{opacity:0;}100%{opacity:1;}"]),xt=Object(p.d)("div").withConfig({displayName:"ToxicityMeter__Progress",componentId:"za57gq-0"})(["height:15px;width:15px;background-color:",";border-radius:",";margin:2px;display:inline-block;vertical-align:middle;margin-right:10px;transform:",";animation:",";"],function(e){return e.loading?"#868e96":e.value>=75?"#b719fa":e.value>=50?"#7a4ffe":e.value>=25?"#5185fc":"#2db6f9"},function(e){return!e.loading&&e.value>=25?0:"100%"},function(e){return!e.loading&&e.value>=75?"rotate(135deg)":!e.loading&&e.value>=25?"rotate(90deg)":"rotate(0)"},function(e){return e.loading?Object(p.c)([""," 1s 0s ease-in-out infinite;"],gt):e.value>=75?Object(p.c)([""," .5s ease-in;"],yt):e.value>=50?Object(p.c)([""," .5s ease-in;"],vt):e.value>=25?Object(p.c)([""," .5s ease-in;"],wt):null}),Ot=Object(p.d)("span").withConfig({displayName:"ToxicityMeter__Span",componentId:"za57gq-1"})(["vertical-align:middle;display:inline;animation:"," 0.25s ease-in;font-size:0.75rem;"],kt),St=function(e){var t=e.value,n=e.loading,r=e.visibilityLimit,i=void 0===r?50:r,a=e.toxicityText,c=void 0===a?"":a,u=ht(e,["value","loading","visibilityLimit","toxicityText"]);return o.f("div",dt({style:{marginRight:"5px"}},u),o.f(xt,{loading:n,value:t}),!n&&i<t&&o.f(Ot,null,t,"%",o.f("span",null," ",c)))};function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return!t||"object"!==jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tt=Object(c.c)(bt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_t(this,Pt(t).call(this,e))).onEditorChange=function(e){var t=e.html;n.props.boxStore.value=t},n.addImage=function(e){e instanceof File?n.props.boxStore.images.uploadImage(e):n.props.boxStore.images.add(e)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(t,o["h"].Component),function(e,t,n){t&&Ct(e.prototype,t),n&&Ct(e,n)}(t,[{key:"renderContent",value:function(){return[o.h.createElement(mt,{id:this.props.boxStore.id,value:this.props.boxStore.value,placeholder:m.a.common.writeComment,onFocus:this.props.boxStore.onFocus,onBlur:this.props.boxStore.onBlur,onChange:this.onEditorChange,imagesDisabled:this.props.boxStore.images.inProgress||this.props.boxStore.images.uploadLimitExceeded,hideUploadImage:!this.props.authorized,addImage:this.addImage,removeImage:this.props.boxStore.images.remove,images:this.props.boxStore.images.items,disabled:this.props.boxStore.inProgress,rows:this.props.boxStore.minimized?2:4,showFormattingRow:!this.props.boxStore.minimized,key:0}),o.h.createElement(re,{focused:this.props.boxStore.focused,key:1},o.h.createElement("div",null,this.props.boxStore.toxicityModel.limit<100&&o.h.createElement(St,{value:this.props.boxStore.toxicityModel.value,loading:this.props.boxStore.toxicityModel.loading,toxicityText:m.a.toxicity.long,visibilityLimit:this.props.boxStore.toxicityModel.limit})),o.h.createElement("div",null,this.props.boxStore.allowedCharactersCount<=200&&o.h.createElement(b.a,null,this.props.boxStore.allowedCharactersCount)))]}},{key:"render",value:function(){return o.h.createElement("div",null,this.renderContent())}}]),t}())||bt,At=n(208);function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Mt=Object(p.d)(At.a).withConfig({displayName:"Textarea__StyledTextArea",componentId:"sc-1kvikol-0"})(["display:block;width:100%;resize:none;padding:15px 10px 10px;border-radius:3px 3px 0 0;margin:0;border-image:initial;background:",";color:",";border:1px solid ",";border-bottom:1px dashed ",";&::placeholder{color:",";}&:focus{outline:none;border-color:",";}"],function(e){return e.theme.input.background},function(e){return e.theme.input.color},function(e){return e.theme.input.border},function(e){return e.theme.input.border},function(e){return e.theme.mutedColor},function(e){return e.theme.input.active.border}),zt=function(e){return o.f(Mt,It({name:"comment"},e))},Lt=n(9),Rt=n(10);function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nt=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled=void 0,this.languageCode=void 0,this.currentLanguage=void 0,this.enabledByDefault=void 0,this.transliterationControl=void 0,this.loaded=!1,this.languages={am:"Amharic",ar:"Arabic",bn:"Bengali",el:"Greek",en:"English",fa:"Persian",gu:"Gujarati",hi:"Hindi",kn:"Kannada",ml:"Malayalam",mr:"Marathi",ne:"Nepali",or:"Oriya",pa:"Punjabi",ru:"Russian",sa:"Sanskrit",si:"Sinhalese",sr:"Serbian",ta:"Tamil",te:"Telugu",ti:"Tigrinya",ur:"Urdu",zn:"Chinese"},this.transliterationBoxes=void 0,this.toggleBox=function(e){t.transliterationBoxes.has(e)?t.transliterationBoxes.delete(e):t.transliterationBoxes.add(e),Object(Ze.q)(function(){return t.loaded},function(){t.transliterationControl.makeTransliteratable(Array.from(t.transliterationBoxes)),"en"===t.languageCode?t.transliterationControl.disableTransliteration():t.transliterationControl.enableTransliteration()})},this.toggleLanguage=function(){t.currentLanguage="en"===t.currentLanguage?t.languageCode:"en",Object(Ze.q)(function(){return t.loaded},function(){return"en"!==t.currentLanguage?t.transliterationControl.enableTransliteration():t.transliterationControl.disableTransliteration()})},this.loadTransliteration=function(){Object(Lt.j)("https://www.google.com/jsapi").then(function(){Object(Lt.j)("https://cdn.jsdelivr.net/gh/vuukle/transliterate@1.0/js/transliteration.I.js").then(function(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","https://cdn.jsdelivr.net/gh/vuukle/transliterate@1.0/css/transliteration.css"),document.getElementsByTagName("head")[0].appendChild(e),t.transliterationControl=new window.google.elements.transliteration.TransliterationControl({destinationLanguage:[t.languageCode],sourceLanguage:"en",transliterationEnabled:t.enabledByDefault}),t.loaded=!0})}).catch(function(e){0})},this.languageCode=Rt.a.get("lang")||"en",this.enabledByDefault="true"===Rt.a.get("l_d"),this.enabled="en"!==this.languageCode,this.currentLanguage=this.enabledByDefault?this.languageCode:"en",this.transliterationBoxes=new Set,this.loaded=!1,"en"!==this.languageCode&&this.loadTransliteration()}return function(e,t,n){t&&Vt(e.prototype,t),n&&Vt(e,n)}(e,[{key:"language",get:function(){return this.languages[this.currentLanguage]||this.currentLanguage}}]),e}();Object(Ze.h)(Nt,{currentLanguage:Ze.m,languageCode:Ze.m,loaded:Ze.m,language:Ze.e,toggleBox:Ze.d,toggleLanguage:Ze.d});var Dt,Ht=new Nt;function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kt,Gt,Yt=Object(c.c)(Dt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Wt(this,qt(t).call(this,e))).transliterationStore=Ht,n.handleTextAreaChange=function(e){n.props.foreignStore.value=e.currentTarget.value},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(t,o["b"]),function(e,t,n){t&&Ft(e.prototype,t),n&&Ft(e,n)}(t,[{key:"componentDidMount",value:function(){this.transliterationStore.toggleBox(this.props.foreignStore.id);var e=document.querySelector("#".concat(this.props.foreignStore.id));e instanceof HTMLTextAreaElement&&(e.value=this.props.foreignStore.value)}},{key:"componentWillUnmount",value:function(){this.transliterationStore.toggleBox(this.props.foreignStore.id)}},{key:"renderContent",value:function(){return[o.f(zt,{id:this.props.foreignStore.id,disabled:this.props.foreignStore.inProgress,rows:this.props.foreignStore.minimized?2:4,minRows:this.props.foreignStore.minimized?2:4,maxRows:10,onFocus:this.props.foreignStore.onFocus,onBlur:this.props.foreignStore.onBlur,onChange:this.handleTextAreaChange,placeholder:m.a.common.writeComment,required:!0,key:0}),o.f(re,{focused:!1,key:1},o.f("div",null,o.f(h.a,{onClick:this.transliterationStore.toggleLanguage,style:{padding:"0 6px",lineHeight:1.2,marginRight:"5px",textTransform:"capitalize"},type:"subtle",sm:!0},this.transliterationStore.language)),o.f("div",null,this.props.foreignStore.allowedCharactersCount<=200&&o.f(b.a,null,this.props.foreignStore.allowedCharactersCount)))]}},{key:"render",value:function(){return o.f("div",null,this.renderContent())}}]),t}())||Dt,Jt=n(207),Xt=n.n(Jt),Zt=n(89);function Qt(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.error_saving_image="error_saving_image",e.limit_exceeded="limit_exceeded",e.wrong_format="wrong_format",e.unknown="unknown"}(Gt||(Gt={}));var tn=(en(Kt={},Gt.error_saving_image,{message:"Sorry, there was an error saving an image, please try try again",type:"error"}),en(Kt,Gt.limit_exceeded,{message:"The file size is too big, please upload an image below 5MB",type:"error"}),en(Kt,Gt.unknown,{message:"Error happened, please try again",type:"error"}),en(Kt,Gt.wrong_format,{message:"We can only accept the following image formats: .png .jpg .jpeg .bmp",type:"error"}),Kt),nn=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[],this.limit=void 0,this.inProgress=!1,this.setAlert=void 0,this.allowedFormats=["png","jpg","jpeg","bmp"],this.uploadAPI=function(e){return Object(Lt.l)("POST","".concat("https://api.vuukle.com","/api/v1/Comments/uploadCommentImage"),e,void 0,s.b.token)},this.remove=function(e){t.items=t.items.filter(function(t){return t!==e})},this.add=function(e){-1===t.items.indexOf(e)&&t.items.push(e)},this.uploadImage=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Qt(i,r,o,a,c,"next",e)}function c(e){Qt(i,r,o,a,c,"throw",e)}a(void 0)})}}(de.a.mark(function e(n){var r,o,i;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.name.toLocaleLowerCase().split(".").pop()||"",-1!==t.allowedFormats.indexOf(r)){e.next=3;break}return e.abrupt("return",t.setAlert(tn[Gt.wrong_format]));case 3:if(!(n.size>5e6)){e.next=5;break}return e.abrupt("return",t.setAlert(tn[Gt.limit_exceeded]));case 5:return(o=new FormData).append("file",n),t.inProgress=!0,e.prev=8,e.next=11,t.uploadAPI(o);case 11:if(!(i=e.sent).success||!i.data.imgLink){e.next=16;break}t.add(i.data.imgLink),e.next=17;break;case 16:throw new Error(i.errors[0]);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),t.setAlert(tn[e.t0.message||"unknown"]||tn[Gt.unknown]);case 22:return e.prev=22,t.inProgress=!1,e.finish(22);case 25:case"end":return e.stop()}},e,null,[[8,19,22,25]])}));return function(t){return e.apply(this,arguments)}}(),this.limit=n,this.setAlert=r}return function(e,t,n){t&&$t(e.prototype,t),n&&$t(e,n)}(e,[{key:"uploadLimitExceeded",get:function(){return this.items.length>=this.limit}},{key:"html",get:function(){return this.items.map(function(e){return'<p><img src="'.concat(e,'"></p>')}).join("")}}]),e}();Object(Ze.h)(nn,{add:Ze.d,inProgress:Ze.m,items:Ze.m,remove:Ze.d,uploadLimitExceeded:Ze.e});var rn,on,an,cn,un,sn,ln,fn,pn,mn,dn,hn,bn,gn,yn,vn=nn;function wn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.blank_comment="blank_comment",e.similar_comment="similar_comment",e.long_comment="long_comment",e.repeat_comment="repeat_comment",e.spammer="spammer",e.success="success",e.moderation="moderation",e.ip_blocked="ip_blocked",e.email_blocked="email_blocked"}(yn||(yn={}));var Sn=(On(rn={},yn.blank_comment,{type:"error",message:m.a.common.blankComment}),On(rn,yn.similar_comment,{type:"error",message:m.a.messages.almostSame}),On(rn,yn.long_comment,{type:"warning",message:"".concat(m.a.messages.charlimits)}),On(rn,yn.repeat_comment,{type:"warning",message:m.a.messages.alreadySubmitted}),On(rn,yn.spammer,{type:"warning",message:m.a.messages.spammerComment}),On(rn,yn.success,{type:"success",message:m.a.messages.commentAdded}),On(rn,yn.moderation,{type:"warning",message:m.a.messages.moderationMessage}),On(rn,yn.ip_blocked,{type:"warning",message:m.a.messages.blockedIp}),On(rn,yn.email_blocked,{type:"warning",message:m.a.messages.blockedEmail}),On(rn,"unknown",{type:"error",message:m.a.messages.errorContactVuukle}),rn),jn=(gn=bn=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=V()("write-comment-"),wn(this,"_value",an,this),wn(this,"focused",cn,this),wn(this,"minimized",un,this),wn(this,"inProgress",sn,this),wn(this,"alert",ln,this),wn(this,"images",fn,this),wn(this,"hidden",pn,this),wn(this,"onFocus",mn,this),wn(this,"onBlur",dn,this),wn(this,"preSubmit",hn,this),this.hidden="true"===Rt.a.get("hideCommentBox"),Object(Ze.q)(function(){return t.focused},function(){return t.minimized=!1})}return function(e,t,n){t&&kn(e.prototype,t),n&&kn(e,n)}(e,[{key:"text",get:function(){return Object(Lt.c)(this._value)}},{key:"computedHTML",get:function(){if(!this.value&&!this.images.items.length)return"";var e=this.value.trim().replace(/(?!<br>|<br\/>|<br \/>)(<[^\/>][^>]*><\/[^>]+>)/gim,"").replace(/(<p>(<br>|<br\/>|<br \/>)<\/p>){3,}/gim,"<br><br>").replace(/(<br>|<br\/>|<br \/>){3,}/gim,"<br><br>").replace(/ {3,}/g,"   ").trim();return this.images.items.length>0&&this.images.items.forEach(function(t){return e+=' <p><img src="'.concat(t,'"></p>')}),e}},{key:"allowedCharactersCount",get:function(){return e.lengthLimit-this.text.length}}]),e}(),bn.lengthLimit=Xt()([parseInt(Rt.a.get("maxChars")||"3000",10),3e3])||3e3,an=xn((on=gn).prototype,"_value",[Ze.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cn=xn(on.prototype,"focused",[Ze.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),un=xn(on.prototype,"minimized",[Ze.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sn=xn(on.prototype,"inProgress",[Ze.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ln=xn(on.prototype,"alert",[Ze.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Zt.a}}),fn=xn(on.prototype,"images",[Ze.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return new vn(1,function(t){return e.alert.value=t})}}),pn=xn(on.prototype,"hidden",[Ze.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xn(on.prototype,"text",[Ze.e],Object.getOwnPropertyDescriptor(on.prototype,"text"),on.prototype),xn(on.prototype,"computedHTML",[Ze.e],Object.getOwnPropertyDescriptor(on.prototype,"computedHTML"),on.prototype),xn(on.prototype,"allowedCharactersCount",[Ze.e],Object.getOwnPropertyDescriptor(on.prototype,"allowedCharactersCount"),on.prototype),mn=xn(on.prototype,"onFocus",[Ze.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.minimized=!1,e.focused=!0}}}),dn=xn(on.prototype,"onBlur",[Ze.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.focused=!1}}}),hn=xn(on.prototype,"preSubmit",[Ze.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return new Promise(function(t,n){e.text||e.computedHTML.match(/<img [^>]*src="[^"]*"[^>]*>/gm)?e.text.length>jn.lengthLimit&&(e.alert.value=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){On(e,t,n[t])})}return e}({},Sn[yn.long_comment],{message:Sn[yn.long_comment].message+" ".concat(jn.lengthLimit)}),n(yn.long_comment)):(e.alert.value=Sn[yn.blank_comment],n(yn.blank_comment)),t(!0)})}}}),on),Cn=jn;function _n(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var En=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=0,this.limit=90,this.confirmed=!1,this.getValue=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){_n(i,r,o,a,c,"next",e)}function c(e){_n(i,r,o,a,c,"throw",e)}a(void 0)})}}(de.a.mark(function e(n){var r;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.enabled){e.next=3;break}return t.value=0,e.abrupt("return",t.value);case 3:return t.confirmed=!1,e.prev=4,e.next=7,u.e.spamModel.send(n);case 7:return r=e.sent,t.value=r.value,e.abrupt("return",t.value);case 12:return e.prev=12,e.t0=e.catch(4),Object(Lt.k)("PerspectiveAPIs.toxicModel error: ".concat(e.t0),"error"),t.value=0,e.abrupt("return",t.value);case 17:case"end":return e.stop()}},e,null,[[4,12]])}));return function(t){return e.apply(this,arguments)}}();var n=parseInt(Rt.a.get("spamLimit")||"90",10)||100;this.limit=n>=0?n:90}return function(e,t,n){t&&Pn(e.prototype,t),n&&Pn(e,n)}(e,[{key:"enabled",get:function(){return this.limit<100&&this.limit>0}}]),e}();Object(Ze.h)(En,{value:Ze.m,enabled:Ze.e,getValue:Ze.d});var Tn,An,In=En;function Mn(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function zn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Mn(i,r,o,a,c,"next",e)}function c(e){Mn(i,r,o,a,c,"throw",e)}a(void 0)})}}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Rn=(An=function(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}((Tn=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=0,this.loading=!1,this.checkingTimout=void 0,this.limit=80,this.getValue=function(){var e=zn(de.a.mark(function e(n){var r,o=arguments;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:0,t.loading=!0,e.abrupt("return",new Promise(function(e){if(clearTimeout(t.checkingTimout),!n)return t.loading=!1,t.value=0,e(t.value);r<=0?e(t.getToxicity(n)):t.checkingTimout=setTimeout(zn(de.a.mark(function r(){return de.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e(t.getToxicity(n)));case 1:case"end":return r.stop()}},r)})),r)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(this,"getToxicity",An,this);var n=parseInt(Rt.a.get("toxicityLimit")||"80",10)||100;this.limit=n>=0?n:80}return function(e,t,n){t&&Ln(e.prototype,t),n&&Ln(e,n)}(e,[{key:"enabled",get:function(){return this.limit>0&&this.limit<100}}]),e}()).prototype,"getToxicity",[Ze.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=zn(de.a.mark(function t(n){var r;return de.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,u.e.toxicModel.send(n);case 4:return r=t.sent,e.value=r.value||0,t.abrupt("return",e.value);case 9:return t.prev=9,t.t0=t.catch(1),Object(Lt.k)("PerspectiveAPIs.toxicModel error: ".concat(t.t0),"error"),e.value=0,t.abrupt("return",e.value);case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}},t,null,[[1,9,14,17]])}));return function(e){return t.apply(this,arguments)}}()}}),Tn);Object(Ze.h)(Rn,{loading:Ze.m,value:Ze.m,enabled:Ze.e,getValue:Ze.d});var Vn=Rn;function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bn(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qn=function(e){function t(e,n,r){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Bn(this,Fn(t).call(this))).commentID=e,o.successCallback=r,o.toxicityModel=new Vn,o.spamModel=new In,o.onSubmit=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Dn(i,r,o,a,c,"next",e)}function c(e){Dn(i,r,o,a,c,"throw",e)}a(void 0)})}}(de.a.mark(function e(t){var n;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t instanceof Event&&t.preventDefault(),o.inProgress=!0,o.alert.value=null,e.prev=3,e.next=6,o.preSubmit();case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(3),Object(Lt.k)(e.t0,"error"),o.inProgress=!1,e.abrupt("return");case 13:if(!o.toxicityModel.enabled){e.next=21;break}if(!o.toxicityModel.loading){e.next=17;break}return e.next=17,o.toxicityModel.getValue(o.text);case 17:if(!(o.toxicityModel.value>o.toxicityModel.limit)){e.next=21;break}return o.alert.value={message:m.a.messages.toxicityLimit.replace("%d",o.toxicityModel.limit.toString()),type:"warning"},o.inProgress=!1,e.abrupt("return");case 21:if(!o.spamModel.enabled){e.next=31;break}if(o.spamModel.value){e.next=26;break}return e.next=25,o.spamModel.getValue(o.text);case 25:o.spamModel.value=e.sent;case 26:if(!(o.spamModel.value>o.spamModel.limit)||o.spamModel.confirmed){e.next=31;break}return o.alert.value={type:"warning",message:m.a.messages.spamComment},o.inProgress=!1,o.spamModel.confirmed=!0,e.abrupt("return");case 31:return e.prev=31,e.next=34,u.d.edit(o.commentID,o.computedHTML);case 34:(n=e.sent).success&&(o.alert.value=Sn[yn.success],o.successCallback(n.data)),e.next=41;break;case 38:e.prev=38,e.t1=e.catch(31),o.alert.value=Sn[e.t1.message]||Sn.unknown;case 41:return e.prev=41,o.inProgress=!1,e.finish(41);case 44:case"end":return e.stop()}},e,null,[[3,8],[31,38,41,44]])}));return function(t){return e.apply(this,arguments)}}(),o.minimized=!1;var i=document.createElement("div");return i.innerHTML=n,i.querySelectorAll("img").forEach(function(e){o.images.add(e.getAttribute("src")),i.contains(e)&&e.remove()}),i.querySelectorAll("p:empty").forEach(function(e){return e.remove()}),o.value=i.innerHTML,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(t,Cn),function(e,t,n){t&&Hn(e.prototype,t),n&&Hn(e,n)}(t,[{key:"disabled",get:function(){return!1}},{key:"value",set:function(e){this._value=e,e.length>0&&(this.alert.value=null),this.spamModel.value=0,this.toxicityModel.enabled&&this.toxicityModel.getValue(this.text,1e3)},get:function(){return this._value}}]),t}();function Un(e){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t){return!t||"object"!==Un(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zn,Qn=function(e){function t(e,n,r){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Yn(this,Jn(t).call(this))).commentID=e,o.successCallback=r,o.onSubmit=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Kn(i,r,o,a,c,"next",e)}function c(e){Kn(i,r,o,a,c,"throw",e)}a(void 0)})}}(de.a.mark(function e(t){var n;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t instanceof Event&&t.preventDefault(),o.inProgress=!0,o.alert.value=null,e.prev=3,e.next=6,o.preSubmit();case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(3),Object(Lt.k)(e.t0,"error"),o.inProgress=!1,e.abrupt("return");case 13:return e.prev=13,e.next=16,u.d.edit(o.commentID,o.computedHTML);case 16:(n=e.sent).success&&(o.alert.value=Sn[yn.success],o.successCallback(n.data)),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(13),o.alert.value=Sn[e.t1.message]||Sn.unknown;case 23:return e.prev=23,o.inProgress=!1,e.finish(23);case 26:case"end":return e.stop()}},e,null,[[3,8],[13,20,23,26]])}));return function(t){return e.apply(this,arguments)}}(),o.minimized=!1;var i=n.replace(/<br( ?\/?)>/,"\n");return o.value=Object(Lt.c)(i),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(t,Cn),function(e,t,n){t&&Gn(e.prototype,t),n&&Gn(e,n)}(t,[{key:"disabled",get:function(){return!1}},{key:"value",set:function(e){this._value=e,e.length>0&&(this.alert.value=null)},get:function(){return this._value}}]),t}();function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return!t||"object"!==$n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var or,ir,ar,cr=Object(c.b)("userStore","authStore","widgetStore")(Zn=Object(c.c)(Zn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=tr(this,nr(t).call(this,e))).store=void 0,"en"===n.injected.widgetStore.language?n.store=new qn(e.comment.data.id,e.comment.data.commentText,e.comment.editComment):n.store=new Qn(e.comment.data.id,e.comment.data.commentText,e.comment.editComment),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(t,o["b"]),function(e,t,n){t&&er(e.prototype,t),n&&er(e,n)}(t,[{key:"renderEditor",value:function(){return this.store instanceof qn?o.f(Tt,{boxStore:this.store,authorized:this.injected.userStore.isAuthorized}):o.f(Yt,{foreignStore:this.store})}},{key:"render",value:function(){return o.f(ee,{comment:this.props.comment,onSubmit:this.store.onSubmit,alert:this.store.alert.value,closeAlert:this.store.alert.close,inProgress:this.store.inProgress,closeEditor:this.props.onClose,authenticatedWithPassword:this.injected.userStore.details&&this.injected.userStore.details.isPasswordEntered||!1},this.renderEditor())}},{key:"injected",get:function(){return this.props}}]),t}())||Zn)||Zn;function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function lr(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e,t){return(dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hr(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var br=(ir=hr((or=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==ur(t)&&"function"!=typeof t?mr(e):t}(this,pr(t).call(this))).parentID=e,r.successCallback=n,lr(r,"toxicityModel",ir,mr(r)),r.spamModel=new In,lr(r,"onSubmit",ar,mr(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}(t,Cn),function(e,t,n){t&&fr(e.prototype,t),n&&fr(e,n)}(t,[{key:"disabled",get:function(){return"true"===Rt.a.get("d")||a.a.commentingDisabled}},{key:"value",set:function(e){this._value=e,e.length>0&&(this.alert.value=null),this.spamModel.value=0,this.toxicityModel.enabled&&this.toxicityModel.getValue(this.text,1e3)},get:function(){return this._value}}]),t}()).prototype,"toxicityModel",[Ze.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Vn}}),hr(or.prototype,"disabled",[Ze.e],Object.getOwnPropertyDescriptor(or.prototype,"disabled"),or.prototype),ar=hr(or.prototype,"onSubmit",[Ze.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){sr(i,r,o,a,c,"next",e)}function c(e){sr(i,r,o,a,c,"throw",e)}a(void 0)})}}(de.a.mark(function t(n){var r;return de.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n instanceof Event&&n.preventDefault(),e.inProgress=!0,e.alert.value=null,t.prev=3,t.next=6,e.preSubmit();case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(3),Object(Lt.k)(t.t0,"error"),e.inProgress=!1,t.abrupt("return");case 13:if(!e.toxicityModel.enabled){t.next=21;break}if(!e.toxicityModel.loading){t.next=17;break}return t.next=17,e.toxicityModel.getValue(e.text);case 17:if(!(e.toxicityModel.value>e.toxicityModel.limit)){t.next=21;break}return e.alert.value={message:m.a.messages.toxicityLimit.replace("%d",e.toxicityModel.limit.toString()),type:"warning"},e.inProgress=!1,t.abrupt("return");case 21:if(!e.spamModel.enabled){t.next=31;break}if(e.spamModel.value){t.next=26;break}return t.next=25,e.spamModel.getValue(e.text);case 25:e.spamModel.value=t.sent;case 26:if(!(e.spamModel.value>e.spamModel.limit)||e.spamModel.confirmed){t.next=31;break}return e.alert.value={type:"warning",message:m.a.messages.spamComment},e.inProgress=!1,e.spamModel.confirmed=!0,t.abrupt("return");case 31:return e.inProgress=!0,e.alert.value=null,t.prev=33,t.next=36,u.d.post(e.computedHTML,e.toxicityModel.value||0,e.spamModel.value||0,e.parentID,0,"en");case 36:(r=t.sent).data&&0===r.data.state?(e.successCallback(r.data),e.alert.value=Sn[yn.success],l.b.totalComments++,Object(i.c)(r.data),l.b.syncWithWP&&Object(i.d)(r.data)):e.alert.value=Sn[yn.moderation],e.value="",e.images.items=[],t.next=45;break;case 42:t.prev=42,t.t1=t.catch(33),e.alert.value=Sn[t.t1.message]||Sn.unknown;case 45:return t.prev=45,e.inProgress=!1,t.finish(45);case 48:case"end":return t.stop()}},t,null,[[3,8],[33,42,45,48]])}));return function(e){return t.apply(this,arguments)}}()}}),or);function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yr(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return!t||"object"!==gr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xr(e,t){return(xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Or,Sr=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=wr(this,kr(t).call(this))).parentID=e,r.successCallback=n,r.toggleBox=Ht.toggleBox,r.toggleLanguage=Ht.toggleLanguage,r.onSubmit=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){yr(i,r,o,a,c,"next",e)}function c(e){yr(i,r,o,a,c,"throw",e)}a(void 0)})}}(de.a.mark(function e(t){var n;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t instanceof Event&&t.preventDefault(),r.inProgress=!0,r.alert.value=null,e.prev=3,e.next=6,r.preSubmit();case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(3),console.warn("error",e.t0),r.inProgress=!1,e.abrupt("return");case 13:return e.prev=13,e.next=16,u.d.post(r.computedHTML,0,0,r.parentID,0,document.documentElement.lang||"en");case 16:(n=e.sent).data&&0===n.data.state?(r.successCallback(n.data),r.alert.value=Sn[yn.success],l.b.totalComments++,Object(i.c)(n.data),l.b.syncWithWP&&Object(i.d)(n.data)):r.alert.value=Sn[yn.moderation],r.value="",r.images.items=[],r.updateTextareaValue(),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(13),r.alert.value=Sn[e.t1.message]||Sn.unknown;case 26:return e.prev=26,r.inProgress=!1,e.finish(26);case 29:case"end":return e.stop()}},e,null,[[3,8],[13,23,26,29]])}));return function(t){return e.apply(this,arguments)}}(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(t,Cn),function(e,t,n){t&&vr(e.prototype,t),n&&vr(e,n)}(t,[{key:"updateTextareaValue",value:function(){var e=document.querySelector("#".concat(this.id));e instanceof HTMLTextAreaElement&&(e.value=this.value)}},{key:"disabled",get:function(){return"true"===Rt.a.get("d")||a.a.commentingDisabled}},{key:"value",set:function(e){this.alert.value=null,this._value=e},get:function(){return this._value}},{key:"language",get:function(){return Ht.language}}]),t}(),jr=Object(p.d)(function(e){return o.f(_.a,e)}).withConfig({displayName:"ProfileRow__StyledDropDown",componentId:"sc-1c789nh-0"})([".v-menu{",";}"],function(e){return e.theme.isArabic?"right: 0; left: auto;":"left: 0; right: auto;"}),Cr=function(e){var t=e.profile,n=e.showComments,r=e.signOut;return o.f("div",{style:{marginBottom:"10px"}},o.f(jr,{menu:o.f(E.a,null,o.f(E.a.Item,{href:"https://vuukle.com/user/by/".concat(Object(Lt.o)(t.name),"/").concat(t.id),target:"_blank"},m.a.profile.myProfile),o.f(E.a.Item,{onClick:n},m.a.profile.myComments),r&&o.f(E.a.Item,{onClick:r},m.a.profile.signOut))},o.f("a",{href:"#no",style:{outline:"none",boxShadow:"none"}},o.f(L.a,{name:t.name,src:t.avatar,hash:t.id})," ",o.f("span",null,t.name),t.isModerator&&o.f(b.a,{type:"warning",style:{margin:"0 3px"}},m.a.common.moderator),o.f(P.a,{type:"caret"}))))},_r=n(39),Pr=p.d.div.withConfig({displayName:"SocialAuth__SocialAuthWrapper",componentId:"sc-1tdsp9a-0"})(["margin-right:10px;> button{margin-left:5px;}"]),Er=function(e){var t=e.onClick,n=e.disqus,r=e.facebook,i=e.google,a=e.twitter;return o.f(Pr,null,r&&o.f(_r.a,{onClick:function(){return t("facebook")},type:"facebook",size:"35px",title:m.a.login.facebook}),i&&o.f(_r.a,{onClick:function(){return t("google")},type:"google",size:"35px",title:m.a.login.google}),a&&o.f(_r.a,{onClick:function(){return t("twitter")},type:"twitter",size:"35px",title:m.a.login.twitter}),n&&o.f(_r.a,{onClick:function(){return t("disqus")},type:"disqus",size:"35px",title:m.a.login.disqus}))},Tr=function(e){var t=e.id;return o.f("div",{style:{textAlign:"right"}},o.f("label",{htmlFor:"terms-".concat(t)},o.f("input",{type:"checkbox",id:"terms-".concat(t),name:"terms",required:!0}),o.f("span",null,"I agree with Vuukle's"," ",o.f("a",{href:"https://docs.vuukle.com/privacy-and-policy/",target:"_blank",rel:"noopener nofollow"},"Privacy Policy"))))};function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t){return!t||"object"!==Ar(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rr,Vr=Object(c.b)("authStore")(Or=Object(c.c)(Or=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Mr(this,(e=zr(t)).call.apply(e,[this].concat(o)))).state={email:"",password:""},n.id=V()("pwd"),n.onSubmit=function(e){e.preventDefault(),n.injected.authStore.signIn(n.state.email,n.state.password).then(function(){n.injected.authStore.error||n.setState({email:"",password:""})})},n.handleInputChange=function(e){return n.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.currentTarget.name,e.currentTarget.value))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(t,o["b"]),function(e,t,n){t&&Ir(e.prototype,t),n&&Ir(e,n)}(t,[{key:"render",value:function(){var e=this.injected.authStore,t=e.closeAlert,n=e.error,r=e.inProgress;return o.f(B,{onSubmit:this.onSubmit},o.f(D,{id:this.id,value:this.state.email,onChange:this.handleInputChange}),o.f(H,{id:this.id,value:this.state.password,minLength:0,onChange:this.handleInputChange}),o.f(Tr,{id:this.id}),n&&o.f(I.a,{type:"error",onClose:t},this.injected.authStore.error),o.f("div",{style:{textAlign:"right"}},o.f("span",{style:{margin:"0 5px"}},"Don't have an account?"," ",o.f("a",{href:"#no",onClick:this.props.toggleView},m.a.common.signUp)),o.f(h.a,{loading:r,htmlType:"submit"},m.a.common.signIn)))}},{key:"injected",get:function(){return this.props}}]),t}())||Or)||Or,Nr=function(e){var t=e.id,n=e.value,r=e.onChange;return o.f(N.a,{type:"text",value:n,pattern:'^[^~`!#$%@^&*+=[\\];,/{}|\\\\":<>?]*$',name:"name",id:"name-".concat(t),minLength:3,maxLength:40,placeholder:m.a.common.name,dir:"auto",title:m.a.common.invalidName,onChange:r,required:!0})};function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fr(e,t){return!t||"object"!==Dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wr(e){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ur,Kr=Object(c.b)("authStore")(Rr=Object(c.c)(Rr=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Fr(this,(e=Wr(t)).call.apply(e,[this].concat(o)))).state={email:"",name:""},n.id=V()("pwdless"),n.onSubmit=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Hr(i,r,o,a,c,"next",e)}function c(e){Hr(i,r,o,a,c,"throw",e)}a(void 0)})}}(de.a.mark(function e(t){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.injected.authStore.signInWithoutPassword(n.state.name,n.state.email);case 3:n.injected.authStore.error||n.setState({email:"",name:""});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(t,o["b"]),function(e,t,n){t&&Br(e.prototype,t),n&&Br(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.injected.authStore,n=t.closeAlert,r=t.error,i=t.inProgress;return o.f(B,{onSubmit:this.onSubmit,action:"#"},o.f(Nr,{id:this.id,value:this.state.name,onChange:function(t){return e.setState({name:t.currentTarget.value})}}),o.f(D,{id:this.id,value:this.state.email,onChange:function(t){return e.setState({email:t.currentTarget.value})}}),o.f(Tr,{id:this.id}),r&&o.f(I.a,{type:"error",onClose:n},this.injected.authStore.error),o.f("div",{style:{textAlign:"right"}},o.f(h.a,{loading:i,htmlType:"submit"},m.a.common.signIn)))}},{key:"injected",get:function(){return this.props}}]),t}())||Rr)||Rr;function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jr(e,t){return!t||"object"!==Gr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zr(e,t){return(Zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qr,$r=Object(c.b)("authStore")(Ur=Object(c.c)(Ur=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Jr(this,(e=Xr(t)).call.apply(e,[this].concat(o)))).state={email:"",name:"",password:""},n.id=V()("su"),n.onSubmit=function(e){e.preventDefault(),n.injected.authStore.signUp(n.state.name,n.state.email,n.state.password).then(function(){n.injected.authStore.error||n.setState({email:"",password:"",name:""})})},n.handleInputChange=function(e){return n.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.currentTarget.name,e.currentTarget.value))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zr(e,t)}(t,o["b"]),function(e,t,n){t&&Yr(e.prototype,t),n&&Yr(e,n)}(t,[{key:"render",value:function(){var e=this.injected.authStore,t=e.closeAlert,n=e.error,r=e.inProgress;return o.f(B,{onSubmit:this.onSubmit},o.f(Nr,{id:this.id,value:this.state.name,onChange:this.handleInputChange}),o.f(D,{id:this.id,value:this.state.email,onChange:this.handleInputChange}),o.f(H,{id:this.id,value:this.state.password,onChange:this.handleInputChange}),o.f(Tr,{id:this.id}),n&&o.f(I.a,{type:"error",onClose:t},this.injected.authStore.error),o.f("div",{style:{textAlign:"right"}},o.f("span",{style:{margin:"0 5px"}},"Already have an account?"," ",o.f("a",{href:"#",onClick:this.props.toggleView},m.a.common.signIn)),o.f(h.a,{loading:r,htmlType:"submit"},m.a.common.signUp)))}},{key:"injected",get:function(){return this.props}}]),t}())||Ur)||Ur,eo=function(e){var t=e.onClick;return o.h.createElement("div",{style:{textAlign:"right"}},o.h.createElement(h.a,{htmlType:"button",onClick:t},"Sign up to post"))};function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ro(e,t){return!t||"object"!==to(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function io(e,t){return(io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ao,co=Object(c.b)("authStore","userStore")(Qr=Object(c.c)(Qr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ro(this,oo(t).call(this,e))).state={showSignUp:!1},n.toggleView=function(){return n.setState({showSignUp:!n.state.showSignUp})},n.renderVuukleAuth=function(){return n.injected.authStore.withPassword?n.state.showSignUp?o.f($r,{toggleView:n.toggleView}):o.f(Vr,{toggleView:n.toggleView}):o.f(Kr,null)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&io(e,t)}(t,o["b"]),function(e,t,n){t&&no(e.prototype,t),n&&no(e,n)}(t,[{key:"render",value:function(){if(this.injected.userStore.isAuthorized)return null;var e=this.injected.authStore,t=e.signInWithSocial,n=e.withVuukle,r=e.openSSO,i=this.injected.authStore.facebookEnabled||this.injected.authStore.googleEnabled||this.injected.authStore.twitterEnabled||this.injected.authStore.disqusEnabled;return o.f("section",{className:this.props.className},o.f("div",null,o.f(Er,{facebook:this.injected.authStore.facebookEnabled,google:this.injected.authStore.googleEnabled,twitter:this.injected.authStore.twitterEnabled,disqus:this.injected.authStore.disqusEnabled,onClick:t})),o.f("div",null,n&&this.renderVuukleAuth()),!n&&!i&&o.f(eo,{onClick:r}))}},{key:"injected",get:function(){return this.props}}]),t}())||Qr)||Qr,uo=Object(p.d)(co).withConfig({displayName:"Auth__AuthStyled",componentId:"sc-1bvxb1v-0"})(["margin-top:10px;display:flex;justify-content:space-between;> div{&:first-child{min-width:170px;max-width:100%;flex-grow:1;}&:last-child{flex-grow:3;width:100%;max-width:65%;}}@media (max-width:470px){flex-direction:column;> div:last-child{margin-top:10px;max-width:100%;}}"]);function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fo(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function po(e){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ho,bo=Object(c.b)("userStore","authStore")(ao=Object(c.c)(ao=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=fo(this,(e=po(t)).call.apply(e,[this].concat(o)))).openProfileModal=function(){return Object(i.g)({avatar:n.injected.userStore.details.avatar,id:n.injected.userStore.details.id,name:n.injected.userStore.details.name,points:n.injected.userStore.details.points})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,o["b"]),function(e,t,n){t&&lo(e.prototype,t),n&&lo(e,n)}(t,[{key:"render",value:function(){return this.props.isDisabled?o.f(I.a,null,m.a.messages.commentsClosed):this.props.isCollapsed&&!this.props.isReply?o.f(h.a,{onClick:this.props.expand,style:{width:"100%"}},m.a.buttons.addComment):o.f("div",null,o.f("form",{onSubmit:this.props.handleSubmit},this.injected.userStore.details&&o.f(Cr,{profile:this.injected.userStore.details,showComments:this.openProfileModal,signOut:this.injected.authStore.withSSO?void 0:this.injected.authStore.signOut}),this.props.children,o.f("div",{style:{marginTop:"10px"}},this.props.alert&&o.f(I.a,{type:this.props.alert.type,onClose:this.props.closeAlert},this.props.alert.message),this.injected.userStore.isAuthorized&&o.f("div",{style:{textAlign:"right"}},o.f(h.a,{loading:this.props.inProgress,htmlType:"submit"},m.a.buttons.post)))),this.props.isClicked&&o.f(uo,null))}},{key:"injected",get:function(){return this.props}}]),t}())||ao)||ao;function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vo(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ko(e,t){return(ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xo,Oo,So,jo=Object(c.b)("widgetStore","userStore")(ho=Object(c.c)(ho=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=vo(this,wo(t).call(this,e))).store=void 0,n.store="en"!==n.injected.widgetStore.language?new Sr(e.parentId,e.addComment):new br(e.parentId,e.addComment),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ko(e,t)}(t,o["b"]),function(e,t,n){t&&yo(e.prototype,t),n&&yo(e,n)}(t,[{key:"renderCommentBox",value:function(){return this.store instanceof Sr?o.f(Yt,{foreignStore:this.store}):o.f(Tt,{boxStore:this.store,authorized:this.injected.userStore.isAuthorized})}},{key:"render",value:function(){var e=this;return o.f(bo,{handleSubmit:this.store.onSubmit,id:this.store.id,inProgress:this.store.inProgress,alert:this.store.alert.value,closeAlert:this.store.alert.close,expand:function(){return e.store.hidden=!1},isCollapsed:this.store.hidden,isReply:0!==this.props.parentId,isDisabled:this.store.disabled,isClicked:!this.store.minimized},this.renderCommentBox())}},{key:"injected",get:function(){return this.props}}]),t}())||ho)||ho;function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Po(e,t){return!t||"object"!==Co(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Eo(e){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ao,Io=p.d.div.withConfig({displayName:"CommentItem__Wrapper",componentId:"d03475-0"})(["margin:10px 0;padding-bottom:10px;&:not(:last-child){border-bottom:0.05rem solid ",";}"],function(e){return e.theme.isDark?"#757575":"#e7e9ed"}),Mo=Object(p.d)("div").withConfig({displayName:"CommentItem__RepliesWrapper",componentId:"d03475-1"})(["margin-left:15px;margin-top:15px;","{border-bottom:0;padding-bottom:0;}"],Io),zo=Object(c.c)((So=Oo=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=Po(this,(e=Eo(t)).call.apply(e,[this].concat(i)))).getDropdownOptions=function(){var e=[{name:"".concat(n.props.comment.collapsed?m.a.common.expand:m.a.common.collapse),onClick:n.props.comment.collapse}];return n.props.comment.isOwner&&e.unshift({name:"Edit Comment",onClick:function(){return n.props.comment.editMode=!0}}),n.props.comment.isOwner?e.unshift({name:m.a.profile.removeComment,onClick:function(){return window.open("https://vuukle.com/user/lock?to=comments","_blank")}}):e.unshift({name:m.a.common.report,onClick:n.props.comment.report}),n.props.isModerator&&e.unshift({name:"Reject Comment",onClick:n.props.comment.reject}),e},n.renderCommentHeader=function(){var e=n.props.comment.data.authorType;return 1===e||2===e||3===e?o.f(b.a,{type:"warning",key:"mod",style:{verticalAlign:"top",margin:"0 5px"}},m.a.common.moderator):null},n.renderAlert=function(e,t){return o.f(I.a,{type:e.type,onClose:t},o.f("div",{dangerouslySetInnerHTML:{__html:e.message}}))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}(t,o["b"]),function(e,t,n){t&&_o(e.prototype,t),n&&_o(e,n)}(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.className,i=n.comment;return o.f(Io,{className:r},i.topAlert.value&&this.renderAlert(i.topAlert.value,i.topAlert.close),i.editMode&&o.f(cr,{comment:this.props.comment,onClose:function(){return e.props.comment.editMode=!1}}),!i.editMode&&!i.hidden&&o.f(M.a,{className:"v-comment",name:i.data.name,hash:i.data.userId,onUserClick:i.showCommenterProfile,avatar:i.data.pictureUrl,comment:o.f(z.a,{seeMore:m.a.common.readMore},o.f("span",{dangerouslySetInnerHTML:{__html:i.getCommentTextForRender()}})),points:i.data.userPoints?"".concat(i.data.userPoints," ").concat(1===i.data.userPoints?m.a.common.point:m.a.common.points):void 0,header:this.renderCommentHeader(),likes:i.data.likeCount,dislikes:0,date:i.data.timeago,minimize:i.collapsed,actions:[o.f(M.a.Action,{key:"1"},o.f(h.a,{type:"subtle",onClick:i.toggleLike,active:i.currentSessionLiked,sm:!0},"👍 ",o.f("strong",null,i.data.likeCount))),o.f(M.a.Share,{key:"2",onClick:i.share},m.a.common.share),o.f(M.a.Action,{key:"3"},o.f("a",{href:"#no",onClick:function(e){e.preventDefault(),i.toggleReplyBox()}},m.a.common.reply))],options:this.getDropdownOptions(),highlighted:this.props.highlighted}),i.bottomAlert.value&&this.renderAlert(i.bottomAlert.value,i.bottomAlert.close),i.showReplyBox&&o.f("div",{style:{margin:"10px 0"}},o.f(jo,{addComment:function(e){i.addReply(e),i.toggleReplyBox()},parentId:i.data.id})),!i.collapsed&&i.replies.length>0&&o.f(Mo,null,i.replies.map(function(n){return o.f(t,{isModerator:e.props.isModerator,comment:n,key:i.data.id})})))}}]),t}(),Oo.defaultProps={highlighted:!1},xo=So))||xo;function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vo(e,t){return!t||"object"!==Lo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function No(e){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Do(e,t){return(Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ho,Bo=Object(c.b)("commentsStore","userStore")(Ao=Object(c.c)(Ao=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vo(this,No(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Do(e,t)}(t,o["b"]),function(e,t,n){t&&Ro(e.prototype,t),n&&Ro(e,n)}(t,[{key:"render",value:function(){var e=this.injected.commentsStore,t=e.comments,n=e.loading,r=e.totalComments,i=e.moreAvailable,a=e.sorting,c=e.selectedComment,u=this.injected.userStore.details&&this.injected.userStore.details.isModerator||!1;return n&&r<=0?o.f(C.a,{size:"15px",style:{margin:"20px auto"}}):r<=0?o.f("p",{style:{textAlign:"center"}},m.a.messages.noComments):o.f("div",null,o.f(A,{active:a,onSelect:this.injected.commentsStore.changeSorting}),o.f("div",{style:{margin:"15px 0"}},c&&o.f(zo,{comment:c,isModerator:u,highlighted:!0}),n&&t.length<=0&&o.f(C.a,{size:"15px"}),!n&&t.length<=0&&o.f("p",{style:{textAlign:"center"}},m.a.messages.noCommentsInSorting),t.map(function(e){return o.f(zo,{comment:e,isModerator:u,key:e.data.id})})),i&&o.f(h.a,{onClick:this.injected.commentsStore.loadMoreComments,loading:n,style:{display:"block",width:"100%"}},m.a.buttons.loadMore))}},{key:"injected",get:function(){return this.props}}]),t}())||Ao)||Ao,Fo=n(109),Wo=Object(p.d)(function(e){var t=e.articles,n=e.showMoreButton,r=void 0!==n&&n,i=e.onMoreButtonClick,a=e.isVerticalCards,c=void 0!==a&&a,u=e.className,s=void 0===u?"":u;return o.f("div",{className:s},o.f("div",null,t.map(function(e){return o.f(Fo.a,{key:e.articleId,heading:e.excerpt||e.title,img:e.articleAvatar,link:e.uri,linkRel:"noopener nofollow",mode:c?"vertical":"horizontal"},e.commentCount>0&&o.f(b.a,{style:{marginRight:"5px"}},e.commentCount," ",e.commentCount>1?m.a.commentText.whenX:m.a.commentText.when1))})),r&&o.f(h.a,{onClick:i},m.a.buttons.showMoreArticles))}).withConfig({displayName:"ArticlesWrapper__StyledArticlesWrapper",componentId:"sc-1k5o7ex-0"})(["> div{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;}","{display:block;width:100%;}","{flex:0 49%;margin-bottom:10px;}@media (max-width:450px){","{flex:0 100%;}}"],h.a,Fo.a,Fo.a);function qo(e){return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ko(e,t){return!t||"object"!==qo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Go(e){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yo(e,t){return(Yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jo=p.d.div.withConfig({displayName:"RecommendedArticles__Wrapper",componentId:"sc-1onoi1x-0"})(["margin-top:30px;padding:0 1px;h4{font-weight:bold;text-transform:uppercase;}"]),Xo=Object(c.c)(Ho=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Ko(this,(e=Go(t)).call.apply(e,[this].concat(o)))).articlesStore=f.a,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yo(e,t)}(t,o["b"]),function(e,t,n){t&&Uo(e.prototype,t),n&&Uo(e,n)}(t,[{key:"render",value:function(){return this.articlesStore.disabled||this.articlesStore.articles.length<=0?null:o.f(Jo,{className:this.props.className},o.f("h4",null,m.a.recommendedStories),o.f(Wo,{articles:this.articlesStore.articles,isVerticalCards:this.articlesStore.isVerticalCards,showMoreButton:this.articlesStore.moreArticlesAvailable,onMoreButtonClick:this.articlesStore.showMoreArticles}))}}]),t}())||Ho;function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $o(e,t){return!t||"object"!==Zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ti(e,t){return(ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ni={authStore:s.a,commentsStore:l.b,userStore:s.b,widgetStore:a.a};u.d.initialLoading().then(function(e){e.success&&e.data instanceof Object&&(l.b.initialLoadSuccess(e.data.comments.items,e.data.article.commentCount),l.b.sorting=l.a[e.data.sortedBy||"Latest"],f.a.setArticlesFromServer(e.data.recommended||[],e.data.defaultTotCount),a.a.recommendCount=e.data.recommendCount||0,a.a.commentingDisabled=e.data.article.disabled||!1,Object(i.i)(e))});var ri=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$o(this,ei(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ti(e,t)}(t,o["b"]),function(e,t,n){t&&Qo(e.prototype,t),n&&Qo(e,n)}(t,[{key:"render",value:function(){return o.f(c.a,ni,o.f("div",null,o.f(j,null),o.f(jo,{addComment:l.b.addComment,parentId:0}),o.f(Bo,null),o.f(Xo,null),o.f(d,null)))}}]),t}(),oi=n(154),ii=document.querySelector("html"),ai=document.querySelector("body"),ci=document.getElementById("app"),ui=Object(oi.b)(a.a.theme,"ar"===a.a.language),si=Object(oi.a)(ui);if(o.k(o.f(p.a,{theme:ui},o.f("div",null,o.f(si,null),o.f(ri,null))),ci),null!==ii&&("ar"===a.a.language&&ii.setAttribute("dir","rtl"),"en"!==a.a.language&&ii.setAttribute("lang",a.a.language)),-1!==navigator.userAgent.indexOf("Opera Mini")||"[object OperaMini]"===Object.prototype.toString.call(window.operamini)){var li=document.createElement("div");li.style.border="1px solid #ffb995",li.style.backgroundColor="#fff8f4",li.style.padding="8px",li.style.margin="10px",li.innerHTML='Please disable Opera Mini "Saving mode" to have a correct working page and comments widget.',ai&&ai.insertBefore(li,ai.firstChild)}Object(i.b)();var fi=ci instanceof HTMLElement?ci.offsetHeight:0;setInterval(function(){var e=ci instanceof HTMLElement?ci.offsetHeight+5:0;e!==fi&&window.parent.postMessage&&(fi=e,window.parent.postMessage(JSON.stringify({data:{height:e},sourceOrigin:window.origin,sourceWindowName:window.name,type:"resize",widget:"emotes"}),"*"))},200),console.log("%c[VUUKLE] Comments widget initialized! Version: ".concat("3.7.0",". Need help? Reach us at support[at]vuukle[dot]com"),"color:#039BE5;")},50:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return c});var r=n(9),o=n(4);function i(e){for(var t=0,n=0;n<e.length;n+=1)t=~~((t<<5)-t+e.charCodeAt(n));return t}var a=function(){var e={month:"short",day:"numeric"},t=function(e){return String(Math.abs(Math.round(e)))};return function(n){var r=new Date(1e3*n),i=.001*((new Date).getTime()-r.getTime())>>0,a=i/60,c=a/60,u=c/24;return i<60&&o.a.timeAgo.seconds||a<60&&o.a.timeAgo.minutes.replace("%d",t(a))||c<24&&o.a.timeAgo.hours.replace("%d",t(c))||u<28&&o.a.timeAgo.days.replace("%d",t(u))||u<365&&r.toLocaleDateString(o.a.timeAgo.locale,e)||"".concat(t(u/365),"y")}}(),c=function(e,t){return Object(r.p)(Object(r.c)(e),t)}},7:function(e,t,n){"use strict";var r=n(8),o=n.n(r),i=n(46),a=n(1),c=n(18),u=n(20),s=n(10);function l(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var f=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.recommendCount=0,this.recommendInProgress=!1,this.isRecommended=!1,this.language=void 0,this.apiKey=void 0,this.commentingDisabled=!1,this.article=void 0,this.theme=void 0,this.recommend=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)})}}(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.recommendInProgress=!0,e.prev=1,n=t.isRecommended,t.isRecommended=!t.isRecommended,!n){e.next=12;break}return t.recommendCount>0&&t.recommendCount--,i.remove("".concat(t.article.host,"&").concat(t.article.id,"_recommend")),Object(u.j)(t.isRecommended,t.recommendCount),e.next=10,c.f.delete();case 10:e.next=17;break;case 12:return t.recommendCount++,i.set("".concat(t.article.host,"&").concat(t.article.id,"_recommend"),"true",{expires:30}),Object(u.j)(t.isRecommended,t.recommendCount),e.next=17,c.f.post();case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(1),e.abrupt("return",!1);case 22:return e.prev=22,t.recommendInProgress=!1,e.finish(22);case 25:case"end":return e.stop()}},e,null,[[1,19,22,25]])})),this.language=s.a.get("lang")||"en",this.apiKey=s.a.get("apiKey")||"",this.article={author:s.a.get("author")||"",host:s.a.get("host")||"",id:s.a.get("articleId")||"",img:s.a.get("img")||"",refHost:s.a.get("refHost")||"",tags:s.a.get("tags")||"",title:s.a.get("title")||"",url:s.a.get("url")||""},this.theme={color:s.a.get("color"),darkMode:"true"===s.a.get("darkMode"),font:s.a.get("font")},this.isRecommended=!!i.get("".concat(this.article.host,"&").concat(this.article.id,"_recommend"))};Object(a.h)(f,{commentingDisabled:a.m,isRecommended:a.m,recommendCount:a.m,recommendInProgress:a.m,recommend:a.d}),t.a=new f},78:function(e,t,n){"use strict";var r,o,i,a=n(1),c=n(10),u=n(50);function s(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var p=(o=f((r=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disabled=!1,this.global=!1,this.link="http://[url]",this.isVerticalCards=!1,s(this,"items",o,this),s(this,"articlesToShow",i,this),this.showMoreArticles=function(){return t.articlesToShow=t.items.length},this.setArticlesFromServer=function(e,n){t.disabled||(t.articlesToShow=n,t.articles=e.map(function(e){return{articleAvatar:e.articleAvatar,articleId:e.articleId,commentCount:e.commentCount,excerpt:Object(u.a)(e.title,120),host:e.host,title:e.title,uri:"".concat("https://api.vuukle.com","/stats/External?source=talk_of_town&url=").concat(t.link.replace("[url]",e.uri))}}))},this.disabled="true"===c.a.get("hideArticles"),this.disabled||(this.global="true"===c.a.get("gr"),this.isVerticalCards="true"===c.a.get("totWideImg"),this.link=c.a.get("link")||"http://[url]")}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(e,[{key:"articles",get:function(){return this.items.slice(0,this.articlesToShow)},set:function(e){this.disabled||(this.items=e)}},{key:"moreArticlesAvailable",get:function(){return this.items.length>this.articlesToShow}}]),e}()).prototype,"items",[a.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=f(r.prototype,"articlesToShow",[a.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),f(r.prototype,"moreArticlesAvailable",[a.e],Object.getOwnPropertyDescriptor(r.prototype,"moreArticlesAvailable"),r.prototype),r);Object(a.h)(p,{setArticlesFromServer:a.d,showMoreArticles:a.d}),t.a=new p},81:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return l});var r=n(46);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){return r.get(e.env.SESSION_COOKIE_NAME||"token")},c=function(t){return r.set(e.env.SESSION_COOKIE_NAME||"token",t,o({},{domain:".vuukle.com"},{expires:365}))},u=function(){return r.remove(e.env.SESSION_COOKIE_NAME||"token",{domain:".vuukle.com"})},s=function(e){return r.set("uid",e,o({},{domain:".vuukle.com"},{expires:365}))},l=function(){return r.remove("uid",{domain:".vuukle.com"})}}).call(this,n(75))},89:function(e,t,n){"use strict";var r,o,i=n(1);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var u=(o=c((r=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(this,"alertValue",o,this),this.alertTimeout=void 0,this.close=function(){return t.value=null}}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"value",get:function(){return this.alertValue},set:function(e){var t=this;clearTimeout(this.alertTimeout),this.alertValue=e,e&&(this.alertTimeout=setTimeout(function(){return t.alertValue=null},e.timeout||7e3))}}]),e}()).prototype,"alertValue",[i.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c(r.prototype,"value",[i.e],Object.getOwnPropertyDescriptor(r.prototype,"value"),r.prototype),r);Object(i.h)(u,{close:i.d}),t.a=u}},[[428,2,1]]]);
//# sourceMappingURL=main.e12c8679.js.map